# BOT-01‚Ä¶04 ‚Äî Telegram-–±–æ—Ç: –ø–æ–∏—Å–∫, –∞–Ω–∫–µ—Ç–∞, –õ–ö, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

> –ò–∑–≤–ª–µ—á–µ–Ω–æ –∏–∑ [98-backlog.md](98-backlog.md). –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: CORE-01, CORE-02, BE-02, BE-03.

**–ü—Ä–∏–Ω—è—Ç—ã–µ —Ä–µ—à–µ–Ω–∏—è:**
- –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –æ–¥–Ω–∏–º –ú–ö–î (–≤—ã–±–æ—Ä –¥–æ–º–∞ –Ω–µ –Ω—É–∂–µ–Ω).
- –û–¥–∏–Ω –±–æ—Ç –¥–ª—è –ª–æ–≥–∏–Ω–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ (Login Widget) –∏ –æ–ø—Ä–æ—Å–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤ (webhook). –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ—Ç –∂–µ `TELEGRAM_BOT_TOKEN`.
- –ü–æ—Ç–æ–∫ —Å—Ç—Ä–æ–∏—Ç—Å—è –≤–æ–∫—Ä—É–≥ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞: —Å–Ω–∞—á–∞–ª–∞ –≤—Å–µ –ø–æ–º–µ—â–µ–Ω–∏—è, –ø–æ—Ç–æ–º –≤–æ–ø—Ä–æ—Å—ã (–æ–¥–∏–Ω —Ä–∞–∑), –≤ –∫–æ–Ω—Ü–µ ‚Äî —Ç–µ–ª–µ—Ñ–æ–Ω.
- –ê–Ω–æ–Ω–∏–º–Ω–æ–µ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ –≤ –±–æ—Ç–µ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è; telegram_id –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑ `message.from.id`.
- telegram_id ‚Äî –ü–î–Ω. –•—Ä–∞–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ (`telegram_id`, Fernet) + Blind Index (`telegram_id_idx`, HMAC-SHA256). –û—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—è `telegram_user_id` –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ –Ω–µ—Ç.
- –¢–µ–ª–µ—Ñ–æ–Ω –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω ‚Äî telegram_id –¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.
- Email –≤ –±–æ—Ç–µ –Ω–µ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è.
- –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ (–ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –æ—Ç–≤–µ—Ç–∞). –ü—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ –Ω–∞ –ª—é–±–æ–º —à–∞–≥–µ –Ω–µ —Ç–µ—Ä—è–µ—Ç —Ä–∞–Ω–µ–µ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.
- Rate limit: 10 submit/—á–∞—Å –Ω–∞ telegram_id_idx (–∞–Ω–∞–ª–æ–≥ BE-04 –ø–æ IP, SR-BE04-006); –ø–ª—é—Å –ª–∏–º–∏—Ç 10 –Ω–µ–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –Ω–∞ –ø–æ–º–µ—â–µ–Ω–∏–µ (SR-CORE02-004).
- –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–º–µ—â–µ–Ω–∏—è: REMOVE_PREMISE ‚Üí CONFIRM_REMOVE_PREMISE ‚Üí `status='inactive'`, –æ–±–Ω—É–ª–µ–Ω–∏–µ –ü–î–Ω –æ–¥–Ω–æ–≥–æ –∫–æ–Ω—Ç–∞–∫—Ç–∞, –∑–∞–ø–∏—Å—å –≤ –∞—É–¥–∏—Ç (`action: premise_removed`).
- –£–¥–∞–ª–µ–Ω–∏–µ —Ç–µ–ª–µ—Ñ–æ–Ω–∞: CONFIRM_DELETE ‚Üí PATCH phone=null. –û—Å—Ç–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è.
- –ü–æ–ª–Ω–æ–µ –∑–∞–±–≤–µ–Ω–∏–µ: CONFIRM_FORGET ‚Üí `status='inactive'` –¥–ª—è –≤—Å–µ—Ö –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤, –æ–±–Ω—É–ª–µ–Ω–∏–µ –ü–î–Ω –∏ Blind Index, –∑–∞–ø–∏—Å—å –≤ –∞—É–¥–∏—Ç (`action: forget`).
- –ü–æ–ª–µ `deleted_at` –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è. –†–∞–∑–ª–∏—á–∏–µ –º–µ–∂–¥—É —É–¥–∞–ª–µ–Ω–∏–µ–º –ø–æ–º–µ—â–µ–Ω–∏—è –∏ –∑–∞–±–≤–µ–Ω–∏–µ–º ‚Äî –≤ `action` –∞—É–¥–∏—Ç-–ª–æ–≥–∞. –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ñ–∏–ª—å—Ç—Ä `WHERE status IN ('pending','validated')` –∏—Å–∫–ª—é—á–∞–µ—Ç –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–ø–∏—Å–∏.
- –°–ª–æ–≤–∞—Ä—å —Å–∏–Ω–æ–Ω–∏–º–æ–≤ —Ç–∏–ø–æ–≤ –ø–æ–º–µ—â–µ–Ω–∏–π —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ë–î (—Ç–∞–±–ª–∏—Ü–∞ `premise_type_aliases`) –∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ. –ü–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å —Å–∏–Ω–æ–Ω–∏–º—ã —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É –±–µ–∑ –ø–µ—Ä–µ–¥–µ–ø–ª–æ—è.
- –ù–µ—Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–µ –≤–≤–æ–¥—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü—É `bot_unrecognized` –¥–ª—è —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–ª—É—á—à–µ–Ω–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤. –î–æ—Å—Ç—É–ø–Ω—ã —Å—É–ø–µ—Ä–∞–¥–º–∏–Ω—É.
- –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —à–∞—Ö–º–∞—Ç–∫–∏/–∫–∞—Ä—Ç—ã –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è; –¥–∞–Ω–Ω—ã–µ –∏–∑ –±–æ—Ç–∞ –≤–∏–¥–Ω—ã –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.
- –°–µ—Å—Å–∏–∏ –±–æ—Ç–∞ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã (SQLite-—Ñ–∞–π–ª –Ω–∞ volume) ‚Äî –ø–µ—Ä–µ–∂–∏–≤–∞—é—Ç —Ä–µ—Å—Ç–∞—Ä—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
- Webhook (–Ω–µ long polling) ‚Äî HTTPS —É–∂–µ –µ—Å—Ç—å —á–µ—Ä–µ–∑ Nginx.

**–†–µ–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã –ø–æ–º–µ—â–µ–Ω–∏–π –≤ –ë–î** (–∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞, 5 —Ç–∏–ø–æ–≤, 1815 –ø–æ–º–µ—â–µ–Ω–∏–π):

| premises_type (–≤ –ë–î) | –ö–æ–ª-–≤–æ | –ù–æ–º–µ—Ä–∞ | –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ (short_name) |
|---|---|---|---|
| –ö–≤–∞—Ä—Ç–∏—Ä–∞ | 805 | 1..99 | –ö–≤. |
| –ú–∞—à–∏–Ω–æ-–º–µ—Å—Ç–æ | 815 | 1..99 | –ú–ú |
| –û—Ñ–∏—Å (–∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ã) | 127 | 1..99+ | –ê–ø. |
| –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–º–µ—â–µ–Ω–∏–µ –æ—Ñ–∏—Å–æ–≤ (–∫–ª–∞–¥–æ–≤–∫–∞) | 42 | 01a..24b | –ö–ª–∞–¥. |
| –ë–ö–¢ | 26 | 1..9 | –ë–ö–¢ |

–ù–æ–º–µ—Ä–∞ 1‚Äì99 –ø–µ—Ä–µ—Å–µ–∫–∞—é—Ç—Å—è —É 4 —Ç–∏–ø–æ–≤. –í–≤–æ–¥ –≥–æ–ª–æ–≥–æ —á–∏—Å–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, ¬´45¬ª) –¥–∞—ë—Ç 3‚Äì4 —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è ‚Üí –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω DISAMBIGUATE —Å –∫–Ω–æ–ø–∫–∞–º–∏ `[–ö–≤. 45]` `[–ú–ú 45]` `[–ê–ø. 45]`.

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                                             ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Telegram    ‚îÇ          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                   ‚îÇ        Docker Compose           ‚îÇ
‚îÇ  Cloud       ‚îÇ          ‚îÇ Nginx (—Ö–æ—Å—Ç) ‚îÇ                   ‚îÇ                                 ‚îÇ
‚îÇ  (webhook)   ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ /api/tg-wh/* ‚îÇ‚îÄ‚îÄ‚ñ∂ bot:8443 ‚îÄ‚îÄ‚îÄ‚ñ∂ ‚îÇ  bot  (aiogram 3.x)             ‚îÇ
‚îÇ              ‚îÇ          ‚îÇ              ‚îÇ                   ‚îÇ    ‚îú‚îÄ FSM (—Å—Ç–µ–π—Ç-–º–∞—à–∏–Ω–∞)        ‚îÇ
‚îÇ              ‚îÇ          ‚îÇ              ‚îÇ                   ‚îÇ    ‚îî‚îÄ SQLite: /data/sessions.db ‚îÇ
‚îÇ              ‚îÇ          ‚îÇ              ‚îÇ                   ‚îÇ       (volume: bot_data)        ‚îÇ
‚îÇ              ‚îÇ          ‚îÇ              ‚îÇ                   ‚îÇ          ‚îÇ                      ‚îÇ
‚îÇ              ‚îÇ          ‚îÇ              ‚îÇ                   ‚îÇ          ‚îÇ   HTTP               ‚îÇ
‚îÇ              ‚îÇ          ‚îÇ              ‚îÇ                   ‚îÇ          ‚ñº                      ‚îÇ
‚îÇ              ‚îÇ          ‚îÇ /api/*       ‚îÇ‚îÄ‚îÄ‚ñ∂ backend:8000  ‚îÇ  backend  (FastAPI, :8000)      ‚îÇ
‚îÇ              ‚îÇ          ‚îÇ              ‚îÇ                   ‚îÇ          ‚îÇ                      ‚îÇ
‚îÇ              ‚îÇ          ‚îÇ              ‚îÇ                   ‚îÇ          ‚ñº                      ‚îÇ
‚îÇ              ‚îÇ          ‚îÇ              ‚îÇ                   ‚îÇ  db      (PostgreSQL)           ‚îÇ
‚îÇ              ‚îÇ          ‚îÇ              ‚îÇ                   ‚îÇ                                 ‚îÇ
‚îÇ              ‚îÇ          ‚îÇ /*           ‚îÇ‚îÄ‚îÄ‚ñ∂ frontend:8080 ‚îÇ  frontend (Nginx)               ‚îÇ
‚îÇ              ‚îÇ          ‚îÇ              ‚îÇ                   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò 
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ü–æ–¥—Ö–æ–¥: –ë–æ—Ç ‚Üí Backend API (—Ç–æ–Ω–∫–∏–π –∫–ª–∏–µ–Ω—Ç).** –ë–æ—Ç ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤ docker-compose, –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ `backend` –ø–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å–µ—Ç–∏ Docker. –í—Å—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (–≤–∞–ª–∏–¥–∞—Ü–∏—è, —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ, –∞—É–¥–∏—Ç, –ª–∏–º–∏—Ç—ã) ‚Äî –≤ Backend. –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∑–∞ Telegram UI –∏ —Å—Ç–µ–π—Ç-–º–∞—à–∏–Ω—É –¥–∏–∞–ª–æ–≥–∞.

**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –±–æ—Ç–∞ –∫ Backend:** –∑–∞–≥–æ–ª–æ–≤–æ–∫ `X-Bot-Token` (shared secret, —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `.env`, –Ω–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏). Backend –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–∫–µ–Ω –Ω–∞ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞—Ö `/api/bot/*`.

**–ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ü–∏—è —Å–µ—Å—Å–∏–π:** aiogram 3.x –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–∞—Å—Ç–æ–º–Ω—ã–µ storage –¥–ª—è FSM. –ò—Å–ø–æ–ª—å–∑—É–µ–º SQLite-—Ñ–∞–π–ª (`/data/sessions.db`), –ø—Ä–∏–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —á–µ—Ä–µ–∑ Docker volume `bot_data`. –ü—Ä–∏ —Ä–µ—Å—Ç–∞—Ä—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –Ω–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Å —Ç–æ–≥–æ –∂–µ —à–∞–≥–∞. TTL —Å–µ—Å—Å–∏–∏ ‚Äî 1 —á–∞—Å; –ø–æ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ –±–æ—Ç –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ.

---

## –°—Ç–µ–π—Ç-–º–∞—à–∏–Ω–∞ –∏ CX

–°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–∏–∞–ª–æ–≥–∞ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ **SQLite** (`/data/sessions.db`, Docker volume `bot_data`). TTL —Å–µ—Å—Å–∏–∏ ‚Äî 1 —á–∞—Å. –ö–∞–∂–¥–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ö—Ä–∞–Ω–∏—Ç: `chat_id`, `state` (enum), `data` (JSON —Å –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã–º–∏ –æ—Ç–≤–µ—Ç–∞–º–∏), `updated_at`. –ü—Ä–∏ `updated_at` —Å—Ç–∞—Ä—à–µ 1 —á–∞—Å–∞ ‚Äî –æ—á–∏—Å—Ç–∫–∞ –∏ –ø–µ—Ä–µ—Ö–æ–¥ –≤ IDLE.

–ü–æ—Ç–æ–∫ —Å—Ç—Ä–æ–∏—Ç—Å—è –≤–æ–∫—Ä—É–≥ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞, –∞ –Ω–µ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø–æ–º–µ—â–µ–Ω–∏—è: —Å–Ω–∞—á–∞–ª–∞ —Å–æ–±–∏—Ä–∞–µ–º –≤—Å–µ –ø–æ–º–µ—â–µ–Ω–∏—è, –ø–æ—Ç–æ–º –≤–æ–ø—Ä–æ—Å—ã (–æ–¥–∏–Ω —Ä–∞–∑ –Ω–∞ –≤—Å–µ –ø–æ–º–µ—â–µ–Ω–∏—è), –≤ –∫–æ–Ω—Ü–µ ‚Äî —Ç–µ–ª–µ—Ñ–æ–Ω –∏ –ø–æ–ª–∏—Ç–∏–∫–∞. –í–æ–ø—Ä–æ—Å—ã –∏ —Ç–µ–ª–µ—Ñ–æ–Ω –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Ç–µ–∫—É—â–∏–µ –æ—Ç–≤–µ—Ç—ã, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –æ–±—Ä–∞—â–∞–ª—Å—è —Ä–∞–Ω–µ–µ.

```
IDLE ‚Üí PREMISES_OVERVIEW ‚Üí ENTER_PREMISE ‚Üí [DISAMBIGUATE] ‚Üí CONFIRM_PREMISE
     ‚Üí OFFER_PARKING_STORAGE / OFFER_MORE ‚Üí [ENTER_PARKING_INPUT] ‚Üí CONFIRM_PREMISE / –Ω–∞–∑–∞–¥
     ‚Üí VOTE_METHOD ‚Üí BARRIER_VOTE
     ‚Üí CONTACT_MANAGE ‚Üí [ENTER_PHONE] ‚Üí DONE
                      ‚Üí [CONFIRM_DELETE ‚Üí CONTACT_MANAGE]

PREMISES_OVERVIEW / OFFER_PARKING_STORAGE / OFFER_MORE
     ‚Üí REMOVE_PREMISE ‚Üí CONFIRM_REMOVE_PREMISE ‚Üí PREMISES_OVERVIEW

IDLE ‚Üí MY_DATA_VIEW ‚Üí [CONFIRM_FORGET ‚Üí IDLE]
                    ‚Üí [–ò–∑–º–µ–Ω–∏—Ç—å ‚Üí PREMISES_OVERVIEW]
```

### –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

| –ö–æ–º–∞–Ω–¥–∞ | –î–µ–π—Å—Ç–≤–∏–µ |
|---------|----------|
| `/start` | –ù–∞—á–∞–ª–æ: –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ + [–Ø —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫] |
| `/mydata` | –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö: MY_DATA_VIEW (—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –∑–∞–±–≤–µ–Ω–∏–µ) |
| `/cancel` | –°–±—Ä–æ—Å —Ç–µ–∫—É—â–µ–≥–æ –¥–∏–∞–ª–æ–≥–∞ ‚Üí IDLE |
| `/help` | –ö—Ä–∞—Ç–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞ |

### –û–ø–∏—Å–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–π

---

* **IDLE**

```
–≠—Ç–æ—Ç –±–æ—Ç –ø–æ–º–æ–≥–∞–µ—Ç —Å–æ–±—Ä–∞—Ç—å –≥–æ–ª–æ—Å–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤
–¥–ª—è –ø—Ä–µ–¥—Å—Ç–æ—è—â–µ–≥–æ –û–±—â–µ–≥–æ —Å–æ–±—Ä–∞–Ω–∏—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤ –≤ –ñ–ö Silver.

–ù–∞–º –≤–∞–∂–Ω–æ –ø–æ–Ω—è—Ç—å, –Ω–∞–±–∏—Ä–∞–µ—Ç—Å—è –ª–∏ –∫–≤–æ—Ä—É–º ‚Äî 2/3 –≥–æ–ª–æ—Å–æ–≤
–æ—Ç –æ–±—â–µ–π –ø–ª–æ—â–∞–¥–∏ –¥–æ–º–∞.

–ï—Å–ª–∏ –≤—ã —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫ –ø–æ–º–µ—â–µ–Ω–∏—è –≤ —ç—Ç–æ–º –¥–æ–º–µ ‚Äî –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ.
```

–ö–Ω–æ–ø–∫–∏: `[–Ø —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫]` `[–ú–æ–∏ –¥–∞–Ω–Ω—ã–µ]` `[–ü–æ–º–æ—â—å]`

- –ù–∞–∂–∞–ª `[–Ø —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫]` –∏–ª–∏ `/start` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **PREMISES_OVERVIEW**
- –ù–∞–∂–∞–ª `[–ú–æ–∏ –¥–∞–Ω–Ω—ã–µ]` –∏–ª–∏ `/mydata` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **MY_DATA_VIEW**
- –ù–∞–∂–∞–ª `[–ü–æ–º–æ—â—å]` –∏–ª–∏ `/help` ‚Äî —Å–ø—Ä–∞–≤–∫–∞, –æ—Å—Ç–∞—ë–º—Å—è –≤ **IDLE**
- –õ—é–±–æ–π —Ç–µ–∫—Å—Ç ‚Äî ¬´–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ –∏–ª–∏ /start¬ª, –æ—Å—Ç–∞—ë–º—Å—è –≤ **IDLE**

---

* **PREMISES_OVERVIEW**

–î–ª—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∑–∞–ø–∏—Å–µ–π –Ω–µ—Ç):

```
–ü–æ–∫–∞ —á—Ç–æ —É –Ω–∞—Å –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –≤–∞—à–∏—Ö –ø–æ–º–µ—â–µ–Ω–∏—è—Ö.
–ö–∞–∫–∞—è —É –≤–∞—Å –∫–≤–∞—Ä—Ç–∏—Ä–∞ –∏–ª–∏ –¥—Ä—É–≥–æ–µ –ø–æ–º–µ—â–µ–Ω–∏–µ (–∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ã, –º–∞—à–∏–Ω–æ–º–µ—Å—Ç–æ, –º–∞–≥–∞–∑–∏–Ω, –∫–ª–∞–¥–æ–≤–∫–∞)?
–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä, –Ω–∞–ø—Ä–∏–º–µ—Ä: –∫–≤.945
```

–ö–Ω–æ–ø–∫–∏: `[–û—Ç–º–µ–Ω–∞]`

–î–ª—è –≤–æ–∑–≤—Ä–∞—â–∞—é—â–µ–≥–æ—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∑–∞–ø–∏—Å–∏ –µ—Å—Ç—å):

```
–í–∞—à–∏ –ø–æ–º–µ—â–µ–Ω–∏—è:
  ‚Ä¢ –ö–≤–∞—Ä—Ç–∏—Ä–∞ 45
  ‚Ä¢ –ö–ª–∞–¥–æ–≤–∫–∞ 3

–ü—Ä–∏—à–ª–∏—Ç–µ –Ω–æ–º–µ—Ä –ø–æ–º–µ—â–µ–Ω–∏—è –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –º–º.913) –∏–ª–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ –≤–æ–ø—Ä–æ—Å–∞–º –ø–æ –û–°–°
```

–ö–Ω–æ–ø–∫–∏: `[–î–æ–±–∞–≤–∏—Ç—å –ø–æ–º–µ—â–µ–Ω–∏–µ]` `[–£–±—Ä–∞—Ç—å –ø–æ–º–µ—â–µ–Ω–∏–µ]` `[–ü–µ—Ä–µ–π—Ç–∏ –∫ –≤–æ–ø—Ä–æ—Å–∞–º]` `[–û—Ç–º–µ–Ω–∞]`


- –í–≤—ë–ª —Ç–µ–∫—Å—Ç (–Ω–æ–º–µ—Ä/–Ω–∞–∑–≤–∞–Ω–∏–µ) ‚Äî BOT-01 resolve:
  - 1 —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **CONFIRM_PREMISE**
  - –±–æ–ª—å—à–µ 1 ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **DISAMBIGUATE**
  - 0 ‚Äî ¬´–ù–µ –Ω–∞–π–¥–µ–Ω–æ. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑¬ª, –æ—Å—Ç–∞—ë–º—Å—è –≤ **PREMISES_OVERVIEW**
- –ù–∞–∂–∞–ª `[–î–æ–±–∞–≤–∏—Ç—å –ø–æ–º–µ—â–µ–Ω–∏–µ]` ‚Äî –±–æ—Ç: ¬´–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –ø–æ–º–µ—â–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–≤. 911)¬ª, –æ—Å—Ç–∞—ë–º—Å—è –≤ **PREMISES_OVERVIEW** (—Ä–µ–∂–∏–º –≤–≤–æ–¥–∞)
- –ù–∞–∂–∞–ª `[–£–±—Ä–∞—Ç—å –ø–æ–º–µ—â–µ–Ω–∏–µ]` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **REMOVE_PREMISE**
- –ù–∞–∂–∞–ª `[–ü–µ—Ä–µ–π—Ç–∏ –∫ –≤–æ–ø—Ä–æ—Å–∞–º ‚ûú]` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **VOTE_METHOD**
- –ù–∞–∂–∞–ª `[–û—Ç–º–µ–Ω–∞]` –∏–ª–∏ `/cancel` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **IDLE**

---

* **DISAMBIGUATE**

```
–ù–∞–π–¥–µ–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:
```

–ö–Ω–æ–ø–∫–∏: `[–ö–≤. 45]` `[–ú–ú 45]` `[–ê–ø. 45]` ... (–º–∞–∫—Å 5) + `[–í–≤–µ—Å—Ç–∏ –∑–∞–Ω–æ–≤–æ]` `[–û—Ç–º–µ–Ω–∞]`

- –ù–∞–∂–∞–ª –Ω–∞ –≤–∞—Ä–∏–∞–Ω—Ç ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **CONFIRM_PREMISE**
- –ù–∞–∂–∞–ª `[–í–≤–µ—Å—Ç–∏ –∑–∞–Ω–æ–≤–æ]` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **PREMISES_OVERVIEW**
- –ù–∞–∂–∞–ª `[–û—Ç–º–µ–Ω–∞]` –∏–ª–∏ `/cancel` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **IDLE**

---

* **CONFIRM_PREMISE**

```
–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–º–µ—â–µ–Ω–∏–µ –æ—Ñ–∏—Å–æ–≤ (–∫–ª–∞–¥–æ–≤–∫–∞) ‚Ññ 16b (–ü–æ–¥—ä–µ–∑–¥ –ë / –≠—Ç–∞–∂ 5)
–í–µ—Ä–Ω–æ?
```

–ö–Ω–æ–ø–∫–∏: `[–î–∞]` `[–ù–µ—Ç, –≤–≤–µ—Å—Ç–∏ –¥—Ä—É–≥–æ–µ]`

- –ù–∞–∂–∞–ª `[–î–∞]` ‚Äî –ø–æ–º–µ—â–µ–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ —Å–ø–∏—Å–æ–∫ —Å–µ—Å—Å–∏–∏:
  - –µ—Å–ª–∏ —Ç–∏–ø = –∫–≤–∞—Ä—Ç–∏—Ä–∞ –∏–ª–∏ –∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ã ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **OFFER_PARKING_STORAGE**
  - –µ—Å–ª–∏ —Ç–∏–ø = –∫–ª–∞–¥–æ–≤–∫–∞, –º–∞—à–∏–Ω–æ–º–µ—Å—Ç–æ, –∏–Ω–æ–µ ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **OFFER_MORE**
- –ù–∞–∂–∞–ª `[–ù–µ—Ç, –≤–≤–µ—Å—Ç–∏ –¥—Ä—É–≥–æ–µ]` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **PREMISES_OVERVIEW**

---

* **OFFER_PARKING_STORAGE**

```
–í–∞—à–∏ –ø–æ–º–µ—â–µ–Ω–∏—è:
  ‚úì –ö–≤–∞—Ä—Ç–∏—Ä–∞ 45

–£ –≤–∞—Å –µ—Å—Ç—å –º–∞—à–∏–Ω–æ–º–µ—Å—Ç–æ –∏–ª–∏ –∫–ª–∞–¥–æ–≤–∫–∞ –≤ —ç—Ç–æ–º –¥–æ–º–µ?
```

–ö–Ω–æ–ø–∫–∏: `[–î–æ–±–∞–≤–∏—Ç—å –ú–ú/–∫–ª–∞–¥–æ–≤–∫—É]` `[–ù–µ—Ç, –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å ‚ûú]` `[–£–±—Ä–∞—Ç—å –ø–æ–º–µ—â–µ–Ω–∏–µ]` `[–û—Ç–º–µ–Ω–∞]`

- –ù–∞–∂–∞–ª `[–î–æ–±–∞–≤–∏—Ç—å –ú–ú/–∫–ª–∞–¥–æ–≤–∫—É]` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **ENTER_PARKING_INPUT** (—ç–∫—Ä–∞–Ω ¬´—Ç–æ–ª—å–∫–æ –≤–≤–æ–¥¬ª)
- –í–≤—ë–ª —Ç–µ–∫—Å—Ç (–±–µ–∑ –∫–Ω–æ–ø–∫–∏) ‚Äî BOT-01 resolve: 1 —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ ‚Üí **CONFIRM_PREMISE**, –±–æ–ª—å—à–µ 1 ‚Üí **DISAMBIGUATE**, 0 ‚Äî ¬´–ù–µ –Ω–∞–π–¥–µ–Ω–æ‚Ä¶¬ª, –æ—Å—Ç–∞—ë–º—Å—è –≤ **OFFER_PARKING_STORAGE**
- –ù–∞–∂–∞–ª `[–ù–µ—Ç, –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å ‚ûú]` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **VOTE_METHOD**
- –ù–∞–∂–∞–ª `[–£–±—Ä–∞—Ç—å –ø–æ–º–µ—â–µ–Ω–∏–µ]` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **REMOVE_PREMISE**
- –ù–∞–∂–∞–ª `[–û—Ç–º–µ–Ω–∞]` –∏–ª–∏ `/cancel` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **IDLE**

---

* **ENTER_PARKING_INPUT**

–≠–∫—Ä–∞–Ω –æ–∂–∏–¥–∞–Ω–∏—è —Ç–æ–ª—å–∫–æ –≤–≤–æ–¥–∞ –Ω–æ–º–µ—Ä–∞ –ø–æ–º–µ—â–µ–Ω–∏—è (–±–µ–∑ –ª–∏—à–Ω–∏—Ö –∫–Ω–æ–ø–æ–∫; —Ç–æ–ª—å–∫–æ ¬´–û—Ç–º–µ–Ω–∞¬ª).

```
–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –º–∞—à–∏–Ω–æ–º–µ—Å—Ç–∞ –∏–ª–∏ –∫–ª–∞–¥–æ–≤–∫–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä: –º–º 12, –∫–ª–∞–¥–æ–≤–∫–∞ 5a
```

–ö–Ω–æ–ø–∫–∏: `[–û—Ç–º–µ–Ω–∞]`

- –í–≤—ë–ª —Ç–µ–∫—Å—Ç ‚Äî BOT-01 resolve ‚Üí **CONFIRM_PREMISE** / **DISAMBIGUATE** (0 ‚Äî ¬´–ù–µ –Ω–∞–π–¥–µ–Ω–æ. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑¬ª, –æ—Å—Ç–∞—ë–º—Å—è –≤ **ENTER_PARKING_INPUT**)
- –ù–∞–∂–∞–ª `[–û—Ç–º–µ–Ω–∞]` ‚Äî –≤–æ–∑–≤—Ä–∞—Ç –≤ **OFFER_PARKING_STORAGE** (–∏–ª–∏ –≤ **OFFER_MORE**, –µ—Å–ª–∏ –≤–æ—à–ª–∏ –∏–∑ –Ω–µ–≥–æ)

---

* **OFFER_MORE**

```
–í–∞—à–∏ –ø–æ–º–µ—â–µ–Ω–∏—è:
  ‚úì –ö–≤–∞—Ä—Ç–∏—Ä–∞ 45
  ‚úì –ú–∞—à–∏–Ω–æ–º–µ—Å—Ç–æ 12

–•–æ—Ç–∏—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –µ—â—ë –ø–æ–º–µ—â–µ–Ω–∏–µ?
–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ ¬´–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å¬ª.
```

–ö–Ω–æ–ø–∫–∏: `[–î–æ–±–∞–≤–∏—Ç—å –ø–æ–º–µ—â–µ–Ω–∏–µ]` `[–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å ‚ûú]` `[–£–±—Ä–∞—Ç—å –ø–æ–º–µ—â–µ–Ω–∏–µ]` `[–û—Ç–º–µ–Ω–∞]`

- –ù–∞–∂–∞–ª `[–î–æ–±–∞–≤–∏—Ç—å –ø–æ–º–µ—â–µ–Ω–∏–µ]` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **ENTER_PARKING_INPUT** (—Å–æ–æ–±—â–µ–Ω–∏–µ ¬´–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –ø–æ–º–µ—â–µ–Ω–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä: –º–º 12, –∫–≤. 100¬ª)
- –í–≤—ë–ª —Ç–µ–∫—Å—Ç ‚Äî BOT-01 resolve (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ) ‚Üí **CONFIRM_PREMISE** / **DISAMBIGUATE**
- –ù–∞–∂–∞–ª `[–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å ‚ûú]` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **VOTE_METHOD**
- –ù–∞–∂–∞–ª `[–£–±—Ä–∞—Ç—å –ø–æ–º–µ—â–µ–Ω–∏–µ]` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **REMOVE_PREMISE**
- –ù–∞–∂–∞–ª `[–û—Ç–º–µ–Ω–∞]` –∏–ª–∏ `/cancel` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **IDLE**

---

* **REMOVE_PREMISE**

```
–ö–∞–∫–æ–µ –ø–æ–º–µ—â–µ–Ω–∏–µ —É–±—Ä–∞—Ç—å –∏–∑ —Å–ø–∏—Å–∫–∞?
```

–ö–Ω–æ–ø–∫–∏: `[–ö–≤. 45]` `[–ú–ú 12]` ... + `[–û—Ç–º–µ–Ω–∞]`

- –ù–∞–∂–∞–ª –Ω–∞ –ø–æ–º–µ—â–µ–Ω–∏–µ ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **CONFIRM_REMOVE_PREMISE**
- –ù–∞–∂–∞–ª `[–û—Ç–º–µ–Ω–∞]` ‚Äî –≤–æ–∑–≤—Ä–∞—Ç –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –∏–∑ –∫–æ—Ç–æ—Ä–æ–≥–æ –ø—Ä–∏—à–ª–∏ (PREMISES_OVERVIEW / OFFER_PARKING_STORAGE / OFFER_MORE)
- `/cancel` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **IDLE**

---

* **CONFIRM_REMOVE_PREMISE**

```
–£–±—Ä–∞—Ç—å ¬´–ú–ú 12¬ª –∏–∑ –≤–∞—à–µ–≥–æ —Å–ø–∏—Å–∫–∞?
```

–ö–Ω–æ–ø–∫–∏: `[–î–∞, —É–±—Ä–∞—Ç—å]` `[–û—Ç–º–µ–Ω–∞]`

- –ù–∞–∂–∞–ª `[–î–∞, —É–±—Ä–∞—Ç—å]` ‚Äî `DELETE /api/bot/me/premises/{premise_id}` (status=inactive, –æ–±–Ω—É–ª–µ–Ω–∏–µ –ü–î–Ω –∫–æ–Ω—Ç–∞–∫—Ç–∞, –∑–∞–ø–∏—Å—å –≤ –∞—É–¥–∏—Ç `action: premise_removed`) ‚Üí –±–æ—Ç: ¬´–ü–æ–º–µ—â–µ–Ω–∏–µ —É–±—Ä–∞–Ω–æ¬ª ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –≤ **PREMISES_OVERVIEW**
- –ù–∞–∂–∞–ª `[–û—Ç–º–µ–Ω–∞]` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **REMOVE_PREMISE**
- `/cancel` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **IDLE**

---

* **VOTE_METHOD**

```
–í–∞—à–∏ –ø–æ–º–µ—â–µ–Ω–∏—è:
  ‚úì –ö–≤–∞—Ä—Ç–∏—Ä–∞ 45
  ‚úì –ú–∞—à–∏–Ω–æ–º–µ—Å—Ç–æ 12

–ö–∞–∫ –≤—ã –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –≥–æ–ª–æ—Å–æ–≤–∞—Ç—å –Ω–∞ –û–°–°?

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ¬´–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–π –î–æ–º¬ª (mos.ru/ed) –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤–∏–¥–∏—Ç–µ —Ç–∞–º –≤—Å–µ —Å–≤–æ–∏ –ø–æ–º–µ—â–µ–Ω–∏—è.

–†–∞–Ω–µ–µ –≤—ã –æ—Ç–≤–µ—á–∞–ª–∏: –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ, –í –≠–î –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã‚úé
```

–ö–Ω–æ–ø–∫–∏: `[–ü–ª–∞–Ω–∏—Ä—É—é —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≠–î]` `[–≠–î —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ, —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –≤–∏–¥–Ω–∞]` `[–ù–∞ –±—É–º–∞–∂–Ω–æ–º –±—é–ª–ª–µ—Ç–µ–Ω–µ]` `[–ù–µ –±—É–¥—É –≥–æ–ª–æ—Å–æ–≤–∞—Ç—å]` + `[–ù–∞–∑–∞–¥]` `[–û—Ç–º–µ–Ω–∞]`

–ï—Å–ª–∏ —É–∂–µ –µ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –µ–≥–æ (¬´–†–∞–Ω–µ–µ –≤—ã –æ—Ç–≤–µ—á–∞–ª–∏¬ª)
–ï—Å–ª–∏ –æ—Ç–≤–µ—Ç–∞ –Ω–µ—Ç ‚Äî —Ç–æ –∂–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –±–µ–∑ —Å—Ç—Ä–æ–∫–∏ ¬´–†–∞–Ω–µ–µ –≤—ã –æ—Ç–≤–µ—á–∞–ª–∏¬ª.

- –ù–∞–∂–∞–ª `[–ü–ª–∞–Ω–∏—Ä—É—é —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≠–î]` ‚Äî vote_format=electronic, registered_in_ed=false, POST/PATCH –Ω–∞ Backend ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –≤ **BARRIER_VOTE**
- –ù–∞–∂–∞–ª `[–≠–î —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ, —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –≤–∏–¥–Ω–∞]` ‚Äî vote_format=electronic, registered_in_ed=true, POST/PATCH –Ω–∞ Backend ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –≤ **BARRIER_VOTE**
- –ù–∞–∂–∞–ª `[–ù–∞ –±—É–º–∞–∂–Ω–æ–º –±—é–ª–ª–µ—Ç–µ–Ω–µ]` ‚Äî vote_format=paper, registered_in_ed=false, POST/PATCH –Ω–∞ Backend ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –≤ **BARRIER_VOTE**
- –ù–∞–∂–∞–ª `[–ù–µ –±—É–¥—É –≥–æ–ª–æ—Å–æ–≤–∞—Ç—å]` ‚Äî vote_format=abstain, POST/PATCH –Ω–∞ Backend ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –≤ **BARRIER_VOTE**
- –ù–∞–∂–∞–ª `[–ù–∞–∑–∞–¥]` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **PREMISES_OVERVIEW**
- –ù–∞–∂–∞–ª `[–û—Ç–º–µ–Ω–∞]` –∏–ª–∏ `/cancel` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **IDLE**

---

* **BARRIER_VOTE**

```
–ì–æ—Ç–æ–≤—ã –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å —Å—Ö–µ–º—É —Ä–∞–∑–º–µ—â–µ–Ω–∏—è —à–ª–∞–≥–±–∞—É–º–æ–≤?
https://t.me/SILVERINFO/4304

–†–∞–Ω–µ–µ –≤—ã –æ—Ç–≤–µ—á–∞–ª–∏: –ó–∞ ‚úé
```

–ö–Ω–æ–ø–∫–∏: `[–ó–∞]` `[–ü—Ä–æ—Ç–∏–≤]` `[–ù–µ –æ–ø—Ä–µ–¥–µ–ª–∏–ª—Å—è]` + `[–ù–∞–∑–∞–¥]` `[–û—Ç–º–µ–Ω–∞]`

–ï—Å–ª–∏ —É–∂–µ –µ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –µ–≥–æ (¬´–†–∞–Ω–µ–µ –≤—ã –æ—Ç–≤–µ—á–∞–ª–∏¬ª)
–ï—Å–ª–∏ –æ—Ç–≤–µ—Ç–∞ –Ω–µ—Ç ‚Äî —Ç–æ –∂–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –±–µ–∑ —Å—Ç—Ä–æ–∫–∏ ¬´–†–∞–Ω–µ–µ –≤—ã –æ—Ç–≤–µ—á–∞–ª–∏¬ª.

- –ù–∞–∂–∞–ª `[–ó–∞]` ‚Äî barrier_vote=for, POST/PATCH –Ω–∞ Backend ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –≤ **CONTACT_MANAGE**
- –ù–∞–∂–∞–ª `[–ü—Ä–æ—Ç–∏–≤]` ‚Äî barrier_vote=against, POST/PATCH –Ω–∞ Backend ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –≤ **CONTACT_MANAGE**
- –ù–∞–∂–∞–ª `[–ù–µ –æ–ø—Ä–µ–¥–µ–ª–∏–ª—Å—è]` ‚Äî barrier_vote=undecided, POST/PATCH –Ω–∞ Backend ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –≤ **CONTACT_MANAGE**
- –ù–∞–∂–∞–ª `[–ù–∞–∑–∞–¥]` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **VOTE_METHOD**
- –ù–∞–∂–∞–ª `[–û—Ç–º–µ–Ω–∞]` –∏–ª–∏ `/cancel` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **IDLE**

---

* **CONTACT_MANAGE**

–ï—Å–ª–∏ —Ç–µ–ª–µ—Ñ–æ–Ω —É–∂–µ –∏–∑–≤–µ—Å—Ç–µ–Ω:

```
–í–∞—à —Ç–µ–ª–µ—Ñ–æ–Ω –¥–ª—è —Å–≤—è–∑–∏: +7 999 123-45-67
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–æ–º–µ—Ä. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ ‚Äî –∏—Å–ø—Ä–∞–≤—å—Ç–µ –∏–ª–∏ —É–¥–∞–ª–∏—Ç–µ.

–û—Ç–ø—Ä–∞–≤–ª—è—è –¥–∞–Ω–Ω—ã–µ, –≤—ã —Å–æ–≥–ª–∞—à–∞–µ—Ç–µ—Å—å —Å –ü–æ–ª–∏—Ç–∏–∫–æ–π –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏:
https://example.com/policy
```

–ö–Ω–æ–ø–∫–∏: `[–í—Å—ë –≤–µ—Ä–Ω–æ, —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å ‚úì]` `[–ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω]` `[–£–¥–∞–ª–∏—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω]` + `[–ù–∞–∑–∞–¥]`

–ï—Å–ª–∏ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –Ω–µ—Ç:

```
–£ –Ω–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –≤–∞—à–µ–≥–æ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –¥–ª—è —Å–≤—è–∑–∏.
–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å –∫–æ–Ω—Ç–∞–∫—Ç–æ–º –∏–ª–∏ –≤–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –≤—Ä—É—á–Ω—É—é.

–û—Ç–ø—Ä–∞–≤–ª—è—è –¥–∞–Ω–Ω—ã–µ, –≤—ã —Å–æ–≥–ª–∞—à–∞–µ—Ç–µ—Å—å —Å –ü–æ–ª–∏—Ç–∏–∫–æ–π –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏:
https://example.com/policy
```

–ö–Ω–æ–ø–∫–∏ (InlineKeyboard): `[–î–æ–±–∞–≤–∏—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω]` `[–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å]` + `[–ù–∞–∑–∞–¥]`

- –ù–∞–∂–∞–ª `[–í—Å—ë –≤–µ—Ä–Ω–æ, —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å ‚úì]` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **DONE**
- –ù–∞–∂–∞–ª `[–ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω]` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **ENTER_PHONE**
- –ù–∞–∂–∞–ª `[–î–æ–±–∞–≤–∏—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω]` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **ENTER_PHONE**
- –ù–∞–∂–∞–ª `[–£–¥–∞–ª–∏—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω]` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **CONFIRM_DELETE**
- –ù–∞–∂–∞–ª `[–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å]` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **DONE** (telegram_id –¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω, —Ç–µ–ª–µ—Ñ–æ–Ω –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω)
- –í–≤—ë–ª –Ω–æ–º–µ—Ä –≤—Ä—É—á–Ω—É—é ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è:
  - –æ–∫ ‚Äî PATCH –Ω–∞ Backend, –ø–æ–∫–∞–∑–∞—Ç—å —Ç–æ—Ç –∂–µ —ç–∫—Ä–∞–Ω —Å –Ω–æ–≤—ã–º –Ω–æ–º–µ—Ä–æ–º
  - –æ—à–∏–±–∫–∞ ‚Äî ¬´–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç¬ª, –æ—Å—Ç–∞—ë–º—Å—è –≤ **CONTACT_MANAGE**
- –ù–∞–∂–∞–ª `[–ù–∞–∑–∞–¥]` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **BARRIER_VOTE**
- `/cancel` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **IDLE**

---

* **ENTER_PHONE**

```
–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ +7XXXXXXXXXX
–∏–ª–∏ –ø–æ–¥–µ–ª–∏—Ç–µ—Å—å –∫–æ–Ω—Ç–∞–∫—Ç–æ–º.
```

–ö–Ω–æ–ø–∫–∞ (ReplyKeyboard): `[üì± –ü–æ–¥–µ–ª–∏—Ç—å—Å—è –∫–æ–Ω—Ç–∞–∫—Ç–æ–º]`

- –ù–∞–∂–∞–ª `[üì± –ü–æ–¥–µ–ª–∏—Ç—å—Å—è –∫–æ–Ω—Ç–∞–∫—Ç–æ–º]` ‚Äî —Ç–µ–ª–µ—Ñ–æ–Ω –ø–æ–ª—É—á–µ–Ω, PATCH –Ω–∞ Backend ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –≤ **CONTACT_MANAGE** (—Å –Ω–æ–≤—ã–º –Ω–æ–º–µ—Ä–æ–º)
- –í–≤—ë–ª –Ω–æ–º–µ—Ä ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è:
  - –æ–∫ ‚Äî PATCH –Ω–∞ Backend ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –≤ **CONTACT_MANAGE** (—Å –Ω–æ–≤—ã–º –Ω–æ–º–µ—Ä–æ–º)
  - –æ—à–∏–±–∫–∞ ‚Äî ¬´–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç¬ª, –æ—Å—Ç–∞—ë–º—Å—è –≤ **ENTER_PHONE**
- `/back` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **CONTACT_MANAGE**
- `/cancel` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **IDLE**

---

* **CONFIRM_DELETE**

```
–£–¥–∞–ª–∏—Ç—å –≤–∞—à —Ç–µ–ª–µ—Ñ–æ–Ω –∏–∑ —Å–∏—Å—Ç–µ–º—ã?
–û—Å—Ç–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–ø–æ–º–µ—â–µ–Ω–∏—è, –æ—Ç–≤–µ—Ç—ã) —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è.
```

–ö–Ω–æ–ø–∫–∏: `[–î–∞, —É–¥–∞–ª–∏—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω]` `[–û—Ç–º–µ–Ω–∞]`

- –ù–∞–∂–∞–ª `[–î–∞, —É–¥–∞–ª–∏—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω]` ‚Äî PATCH –Ω–∞ Backend (phone=null) ‚Üí –±–æ—Ç: ¬´–¢–µ–ª–µ—Ñ–æ–Ω —É–¥–∞–ª—ë–Ω¬ª ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –≤ **CONTACT_MANAGE**
- –ù–∞–∂–∞–ª `[–û—Ç–º–µ–Ω–∞]` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **CONTACT_MANAGE**
- `/cancel` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **IDLE**

---

* **MY_DATA_VIEW**

–ë–æ—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç Backend (`GET /api/bot/me/data`) –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

```
–í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ –≤ —Å–∏—Å—Ç–µ–º–µ:

  –ü–æ–º–µ—â–µ–Ω–∏—è: –ö–≤–∞—Ä—Ç–∏—Ä–∞ 45, –ú–∞—à–∏–Ω–æ–º–µ—Å—Ç–æ 12
  –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ: –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ (–ø–ª–∞–Ω–∏—Ä—É—é —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≠–î)
  –®–ª–∞–≥–±–∞—É–º—ã: –ó–∞
  –¢–µ–ª–µ—Ñ–æ–Ω: +7 999 123-45-67

–ß—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–¥–µ–ª–∞—Ç—å?
```

–ö–Ω–æ–ø–∫–∏: `[–ò–∑–º–µ–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ]` `[–£–¥–∞–ª–∏—Ç—å –≤—Å–µ –º–æ–∏ –¥–∞–Ω–Ω—ã–µ]` `[–ó–∞–∫—Ä—ã—Ç—å]`

–ï—Å–ª–∏ –∑–∞–ø–∏—Å–µ–π –Ω–µ—Ç:

```
–£ –Ω–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –≤–∞—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö.
```

–ö–Ω–æ–ø–∫–∏: `[–ó–∞–ø–æ–ª–Ω–∏—Ç—å –∞–Ω–∫–µ—Ç—É]` `[–ó–∞–∫—Ä—ã—Ç—å]`

- –ù–∞–∂–∞–ª `[–ò–∑–º–µ–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ]` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **PREMISES_OVERVIEW** (–æ–±—ã—á–Ω—ã–π –ø–æ—Ç–æ–∫ —Å –ø—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ–º)
- –ù–∞–∂–∞–ª `[–£–¥–∞–ª–∏—Ç—å –≤—Å–µ –º–æ–∏ –¥–∞–Ω–Ω—ã–µ]` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **CONFIRM_FORGET**
- –ù–∞–∂–∞–ª `[–ó–∞–ø–æ–ª–Ω–∏—Ç—å –∞–Ω–∫–µ—Ç—É]` (–µ—Å–ª–∏ –∑–∞–ø–∏—Å–µ–π –Ω–µ—Ç) ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **PREMISES_OVERVIEW**
- –ù–∞–∂–∞–ª `[–ó–∞–∫—Ä—ã—Ç—å]` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **IDLE**
- `/cancel` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **IDLE**

---

* **CONFIRM_FORGET**

```
–í—ã —É–≤–µ—Ä–µ–Ω—ã? –í—Å–µ –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã –∏–∑ —Å–∏—Å—Ç–µ–º—ã:
–ø–æ–º–µ—â–µ–Ω–∏—è, –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã, —Ç–µ–ª–µ—Ñ–æ–Ω, –ø—Ä–∏–≤—è–∑–∫–∞ Telegram.

–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ.
–í –∂—É—Ä–Ω–∞–ª–µ –∞—É–¥–∏—Ç–∞ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∑–∞–ø–∏—Å—å –æ —Ñ–∞–∫—Ç–µ —É–¥–∞–ª–µ–Ω–∏—è.
```

–ö–Ω–æ–ø–∫–∏: `[–î–∞, —É–¥–∞–ª–∏—Ç—å –≤—Å—ë]` `[–û—Ç–º–µ–Ω–∞]`

- –ù–∞–∂–∞–ª `[–î–∞, —É–¥–∞–ª–∏—Ç—å –≤—Å—ë]` ‚Äî `DELETE /api/bot/me/forget` (`status='inactive'` –¥–ª—è –≤—Å–µ—Ö –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤, –æ–±–Ω—É–ª–µ–Ω–∏–µ –ü–î–Ω –≤–∫–ª—é—á–∞—è TG ID –∏ Blind Index, –∞—É–¥–∏—Ç `action: forget`) ‚Üí –±–æ—Ç: ¬´–í—Å–µ –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ —É–¥–∞–ª–µ–Ω—ã¬ª ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –≤ **IDLE**
- –ù–∞–∂–∞–ª `[–û—Ç–º–µ–Ω–∞]` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **MY_DATA_VIEW**
- `/cancel` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **IDLE**

---

* **DONE**

```
–°–ø–∞—Å–∏–±–æ! –í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã.

–°–≤–æ–¥–∫–∞:
  –ü–æ–º–µ—â–µ–Ω–∏—è: –ö–≤–∞—Ä—Ç–∏—Ä–∞ 45, –ú–∞—à–∏–Ω–æ–º–µ—Å—Ç–æ 12
  –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ "–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–º –î–æ–º–µ": –î–∞
  –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ: –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ (–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–π –î–æ–º)
  –®–ª–∞–≥–±–∞—É–º—ã: –ó–∞
  –¢–µ–ª–µ—Ñ–æ–Ω: +7 999 123-45-67

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –∏–∑–º–µ–Ω–∏—Ç—Å—è ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ—Å—å: /start
```

–ö–Ω–æ–ø–∫–∏: `[–ò–∑–º–µ–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ]` `[–ó–∞–∫—Ä—ã—Ç—å]`

- –ù–∞–∂–∞–ª `[–ò–∑–º–µ–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ]` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **PREMISES_OVERVIEW**
- –ù–∞–∂–∞–ª `[–ó–∞–∫—Ä—ã—Ç—å]` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ **IDLE**

---

### –ü—Ä–∏–º–µ—á–∞–Ω–∏—è –∫ CX

1. **–ö–∞–∂–¥—ã–π —à–∞–≥ ‚Äî –æ–¥–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å InlineKeyboard.** –ë–æ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç —Ç–æ –∂–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (`edit_message_text`), —á–∞—Ç –Ω–µ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –ø–æ–ª–æ—Ç–Ω–æ.
2. **ENTER_PHONE** ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —à–∞–≥ —Å ReplyKeyboard (–¥–ª—è –∫–Ω–æ–ø–∫–∏ Share Contact). –ù–∞ —ç—Ç–æ–º —à–∞–≥–µ `[–ù–∞–∑–∞–¥]` –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É `/back`.
3. **telegram_id –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –∏–∑ `message.from.id` ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤–∏–¥–∏—Ç —ç—Ç–æ–≥–æ.
4. **–¢–µ–ª–µ—Ñ–æ–Ω –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω.** telegram_id –≤—Å–µ–≥–¥–∞ –∏–∑–≤–µ—Å—Ç–µ–Ω –∏ –¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —à–∞–≥ —Å —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º (`[–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å]` –≤ CONTACT_MANAGE). –≠—Ç–æ –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ: –ø–æ—Ä–æ–≥ –≤—Ö–æ–¥–∞ —Å–Ω–∏–∂–∞–µ—Ç—Å—è, –∞ —Å–≤—è–∑–∞—Ç—å—Å—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ Telegram.
5. **–ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ.** –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –Ω–∞ Backend –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –æ—Ç–≤–µ—Ç–∞, –µ—Å–ª–∏ –æ–Ω–∏ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å: CONFIRM_PREMISE —Å–æ–∑–¥–∞—ë—Ç/–ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç –∫–æ–Ω—Ç–∞–∫—Ç, VOTE_METHOD —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ñ–æ—Ä–º–∞—Ç –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è, BARRIER_VOTE ‚Äî –ø–æ–∑–∏—Ü–∏—é –ø–æ —à–ª–∞–≥–±–∞—É–º–∞–º, ENTER_PHONE/CONFIRM_DELETE ‚Äî —Ç–µ–ª–µ—Ñ–æ–Ω. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç –ø–æ—Ç–æ–∫ –Ω–∞ –ª—é–±–æ–º —à–∞–≥–µ (`[–û—Ç–º–µ–Ω–∞]`), —Ä–∞–Ω–µ–µ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –æ—Å—Ç–∞—é—Ç—Å—è –≤ –ë–î. –≠—Ç–æ –æ–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ.
6. **–í–æ–ø—Ä–æ—Å—ã (VOTE_METHOD, BARRIER_VOTE) –∏ —Ç–µ–ª–µ—Ñ–æ–Ω (CONTACT_MANAGE) –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Ç–µ–∫—É—â–∏–π –æ—Ç–≤–µ—Ç** ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–π—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç, —á—Ç–æ –æ—Ç–≤–µ—á–∞–ª —Ä–∞–Ω—å—à–µ, –∏ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å –∏–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å.
7. **–°–æ–≥–ª–∞—Å–∏–µ —Å –ü–æ–ª–∏—Ç–∏–∫–æ–π** –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ –≤ CONTACT_MANAGE: ¬´–û—Ç–ø—Ä–∞–≤–ª—è—è –¥–∞–Ω–Ω—ã–µ, –≤—ã —Å–æ–≥–ª–∞—à–∞–µ—Ç–µ—Å—å‚Ä¶¬ª. –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –∞–Ω–∫–µ—Ç—ã = –∞–∫—Ç —Å–æ–≥–ª–∞—Å–∏—è.
8. **EDOM –∏ —Ñ–æ—Ä–º–∞—Ç –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω—ã** –≤ –æ–¥–∏–Ω —à–∞–≥ VOTE_METHOD. –í–∞—Ä–∏–∞–Ω—Ç ¬´–ü–ª–∞–Ω–∏—Ä—É—é —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≠–î¬ª (registered_in_ed=false, vote_format=electronic) –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ —Å—Ç–∏–º—É–ª–∏—Ä—É–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –≤ –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–º –î–æ–º–µ.
9. **barrier_vote –∏ vote_format** –≤ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö —Ö—Ä–∞–Ω—è—Ç—Å—è per-contact (per-premise). –ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –±–æ—Ç –¥—É–±–ª–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç—ã –≤–æ –≤—Å–µ –∑–∞–ø–∏—Å–∏ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –ø–æ –ø–æ–º–µ—â–µ–Ω–∏—è–º —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞.
10. **–¢—Ä–∏ —É—Ä–æ–≤–Ω—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏:** (a) CONFIRM_DELETE ‚Äî —É–¥–∞–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–µ–ª–µ—Ñ–æ–Ω; (b) REMOVE_PREMISE ‚Üí CONFIRM_REMOVE_PREMISE ‚Äî `status='inactive'` –æ–¥–Ω–æ–≥–æ –∫–æ–Ω—Ç–∞–∫—Ç–∞, –æ–±–Ω—É–ª–µ–Ω–∏–µ –ü–î–Ω, –∞—É–¥–∏—Ç `action: premise_removed`; (c) CONFIRM_FORGET ‚Äî `status='inactive'` –≤—Å–µ—Ö –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤, –æ–±–Ω—É–ª–µ–Ω–∏–µ –ü–î–Ω + Blind Index, –∞—É–¥–∏—Ç `action: forget`. –ü–æ–ª–µ `deleted_at` –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ‚Äî —Ä–∞–∑–ª–∏—á–∏–µ —á–µ—Ä–µ–∑ `action` –≤ –∞—É–¥–∏—Ç-–ª–æ–≥–µ.
11. **–ö–æ—Ä–æ—Ç–∫–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Ç–∏–ø–æ–≤ –≤ –∫–Ω–æ–ø–∫–∞—Ö.** –ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `short_name` –∏–∑ —Ç–∞–±–ª–∏—Ü—ã `premise_type_aliases`: ¬´–ö–≤. 45¬ª, ¬´–ú–ú 12¬ª, ¬´–ê–ø. 45¬ª, ¬´–ö–ª–∞–¥. 5a¬ª, ¬´–ë–ö–¢ 3¬ª. –ü–æ–ª–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ CONFIRM_PREMISE.
12. **–ù–µ—Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–µ –≤–≤–æ–¥—ã** –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ `bot_unrecognized` (input_text + telegram_id_idx + timestamp). –°—É–ø–µ—Ä–∞–¥–º–∏–Ω –≤–∏–¥–∏—Ç —á–∞—Å—Ç–æ—Ç–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–∏–Ω–æ–Ω–∏–º—ã —á–µ—Ä–µ–∑ —Å—Ç—Ä–∞–Ω–∏—Ü—É ¬´–°–ª–æ–≤–∞—Ä—å –±–æ—Ç–∞¬ª.
13. **–í—Å–µ–≥–æ 17 —Å–æ—Å—Ç–æ—è–Ω–∏–π.** `/cancel` –∏–∑ –ª—é–±–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤–µ–¥—ë—Ç –≤ IDLE.

---

## BOT-01 ‚Äî –ê–ª–≥–æ—Ä–∏—Ç–º—ã –ø–æ–∏—Å–∫–∞: Fuzzy Search (–õ–µ–≤–µ–Ω—à—Ç–µ–π–Ω) –∏ Regex –∫–∞–¥–∞—Å—Ç—Ä–æ–≤—ã—Ö –Ω–æ–º–µ—Ä–æ–≤

### 1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑ (CoT)
–†–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –Ω–∞ Backend: –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –≤–≤–æ–¥–∞ (–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è –∏–∑ SR-FE03-007/CORE-01), –ø–æ–∏—Å–∫ –ø–æ –∫–∞–¥–∞—Å—Ç—Ä–æ–≤–æ–º—É –Ω–æ–º–µ—Ä—É —á–µ—Ä–µ–∑ regex, –ø–∞—Ä—Å–∏–Ω–≥ —Ç–∏–ø–∞ –ø–æ–º–µ—â–µ–Ω–∏—è –∏ –Ω–æ–º–µ—Ä–∞ –ø–æ —Å–ª–æ–≤–∞—Ä—é, fuzzy matching –ø–æ –õ–µ–≤–µ–Ω—à—Ç–µ–π–Ω—É. –ü–æ–∏—Å–∫ –≤–µ–¥—ë—Ç—Å—è –≤ —Ä–∞–º–∫–∞—Ö –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ú–ö–î (building_id –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è).

### 2. –û–ø–∏—Å–∞–Ω–∏–µ –∏ —Ü–µ–ª—å
–†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –Ω–∞–º–µ—Ä–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º –≤–≤–æ–¥–µ: –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–∞–¥–∞—Å—Ç—Ä–æ–≤–æ–≥–æ –Ω–æ–º–µ—Ä–∞ –∏–ª–∏ ¬´—Ç–∏–ø + –Ω–æ–º–µ—Ä¬ª –ø–æ–º–µ—â–µ–Ω–∏—è —Å —É—á—ë—Ç–æ–º –æ–ø–µ—á–∞—Ç–æ–∫. –¶–µ–ª—å ‚Äî –ø–æ–∏—Å–∫ –ø–æ–º–µ—â–µ–Ω–∏—è –≤ –±–æ—Ç–µ –ø–æ –ë–¢ [cite: 83, 84, 140‚Äì150, 180‚Äì181].

### 3. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
* **SR-BOT01-001:** –°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤–≤–æ–¥: –Ω–∏–∂–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä, —É–¥–∞–ª–µ–Ω–∏–µ –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤, –∑–∞–º–µ–Ω–∞ ¬´—ë¬ª –Ω–∞ ¬´–µ¬ª (–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SR-FE03-007).
* **SR-BOT01-002:** –°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –≤–≤–æ–¥ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —à–∞–±–ª–æ–Ω—É –∫–∞–¥–∞—Å—Ç—Ä–æ–≤–æ–≥–æ –Ω–æ–º–µ—Ä–∞ (regex) –∏ –ø—Ä–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø–æ–∏—Å–∫ –ø–æ–º–µ—â–µ–Ω–∏—è –ø–æ –∫–∞–¥–∞—Å—Ç—Ä–æ–≤–æ–º—É –Ω–æ–º–µ—Ä—É –≤ –ë–î.
* **SR-BOT01-003:** –°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –ø–∞—Ä—Å–∏—Ç—å —Ç–∏–ø –ø–æ–º–µ—â–µ–Ω–∏—è –∏ –Ω–æ–º–µ—Ä –ø–æ —Å–ª–æ–≤–∞—Ä—é —Å–∏–Ω–æ–Ω–∏–º–æ–≤. –°–ª–æ–≤–∞—Ä—å —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ë–î (—Ç–∞–±–ª–∏—Ü–∞ `premise_type_aliases`): –∫–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ —Å–≤—è–∑—ã–≤–∞–µ—Ç `alias` (—Å–∏–Ω–æ–Ω–∏–º, –Ω–∞–ø—Ä–∏–º–µ—Ä ¬´–∫–≤¬ª, ¬´–º–º¬ª, ¬´–∞–ø¬ª) —Å `premises_type` (—Ç–æ—á–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ `premises`) –∏ `short_name` (—Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –¥–ª—è –∫–Ω–æ–ø–æ–∫, –Ω–∞–ø—Ä–∏–º–µ—Ä ¬´–ö–≤.¬ª, ¬´–ú–ú¬ª). –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ, –∫—ç—à–∏—Ä—É–µ—Ç—Å—è. –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç—Å—è —Å—É–ø–µ—Ä–∞–¥–º–∏–Ω–æ–º —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.
* **SR-BOT01-004:** –°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –ø—Ä–∏–º–µ–Ω—è—Ç—å –Ω–µ—á—ë—Ç–∫–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ (—Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –õ–µ–≤–µ–Ω—à—Ç–µ–π–Ω–∞, –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ `rapidfuzz`) –¥–ª—è —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –≤–≤–æ–¥–∞ —Å–æ —Å–ø–∏—Å–∫–æ–º –ø–æ–º–µ—â–µ–Ω–∏–π –ø—Ä–∏ –æ–ø–µ—á–∞—Ç–∫–∞—Ö.
* **SR-BOT01-005:** –°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –ª—É—á—à–∏–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è (–æ–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ, –º–∞–∫—Å. 5) —Å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º –ø–æ–º–µ—â–µ–Ω–∏—è (premise_id), –ø–æ–ª–Ω—ã–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º (display) –∏ —Å–æ–∫—Ä–∞—â—ë–Ω–Ω—ã–º (short_display, —á–µ—Ä–µ–∑ `short_name` –∏–∑ `premise_type_aliases`).
* **SR-BOT01-006:** –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π —Å–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —è–≤–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç ¬´–Ω–µ –Ω–∞–π–¥–µ–Ω–æ¬ª –∏ –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –Ω–µ—Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–π –≤–≤–æ–¥ –≤ —Ç–∞–±–ª–∏—Ü—É `bot_unrecognized` (input_text, telegram_id_idx, created_at) –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å—É–ø–µ—Ä–∞–¥–º–∏–Ω–æ–º.

### 4. –°—Ü–µ–Ω–∞—Ä–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
**–¢—Ä–∏–≥–≥–µ—Ä:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±–æ—Ç–∞ –≤–≤–æ–¥–∏—Ç —Ç–µ–∫—Å—Ç (¬´–∫–≤ 45¬ª, ¬´–º–º–µ—Å—Ç–æ 5¬ª).
**Main Success Scenario:**
1. –ë–æ—Ç –ø–µ—Ä–µ–¥–∞—ë—Ç —Ç–µ–∫—Å—Ç –Ω–∞ Backend (`POST /api/bot/resolve-premise`).
2. Backend –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ö–ù, –ø–∞—Ä—Å–∏—Ç —Ç–∏–ø/–Ω–æ–º–µ—Ä, –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ fuzzy match.
3. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Å–ø–∏—Å–æ–∫ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π; –±–æ—Ç –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –≤—ã–±—Ä–∞—Ç—å –ø–æ–º–µ—â–µ–Ω–∏–µ –∏–ª–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –∫ –∞–Ω–∫–µ—Ç–µ.
**Alternative Flows:**
* **AF-1 (–ù–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã–π –≤–≤–æ–¥):** –í–æ–∑–≤—Ä–∞—Ç –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤; –±–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç InlineKeyboard —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏.
* **AF-2 (–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤–≤–æ–¥):** –í–æ–∑–≤—Ä–∞—Ç ¬´–Ω–µ –Ω–∞–π–¥–µ–Ω–æ¬ª; –±–æ—Ç –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –≤–≤–µ—Å—Ç–∏ —Å–Ω–æ–≤–∞ –∏–ª–∏ –ø–µ—Ä–µ–π—Ç–∏ –∫ –∫–∞—Å–∫–∞–¥–Ω–æ–º—É –≤—ã–±–æ—Ä—É.

### 5. –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–µ–µ—Å—Ç—Ä –ø–æ–º–µ—â–µ–Ω–∏–π (CORE-01). –°–ª–æ–≤–∞—Ä—å —Å–∏–Ω–æ–Ω–∏–º–æ–≤ ‚Äî —Ç–∞–±–ª–∏—Ü–∞ `premise_type_aliases` (—Å–º. –ü—Ä–∏–Ω—è—Ç—ã–µ —Ä–µ—à–µ–Ω–∏—è). –ù–µ—Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–µ –≤–≤–æ–¥—ã ‚Äî —Ç–∞–±–ª–∏—Ü–∞ `bot_unrecognized`.

### 6. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∏ API
* **Method:** `POST /api/bot/resolve-premise` (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: `X-Bot-Token`).
* **Request:**
```json
{
  "text": "–∫–≤ 45"
}
```
* **Response:**
```json
{
  "matches": [
    { "premise_id": "77:06:...", "display": "–ö–≤–∞—Ä—Ç–∏—Ä–∞ 45", "short_display": "–ö–≤. 45", "confidence": 1.0 }
  ]
}
```

### 7. –ù–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
* **Performance:** Fuzzy search –ø–æ –≤—Å–µ–º –ø–æ–º–µ—â–µ–Ω–∏—è–º –¥–æ–º–∞ (–æ–¥–Ω–æ–≥–æ –ú–ö–î); –ª–∏–º–∏—Ç –Ω–∞ –¥–ª–∏–Ω—É –≤–≤–æ–¥–∞ (100 —Å–∏–º–≤–æ–ª–æ–≤) –∏ –º–∞–∫—Å. 5 –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π.

---

## BOT-02 ‚Äî –ë–æ—Ç-–∞–Ω–∫–µ—Ç–∞: —Å–±–æ—Ä –ø–æ–º–µ—â–µ–Ω–∏–π, –≤–æ–ø—Ä–æ—Å—ã, –∫–æ–Ω—Ç–∞–∫—Ç

### 1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑ (CoT)
–†–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –≤ Telegram-–±–æ—Ç–µ (webhook): –ø–æ—à–∞–≥–æ–≤—ã–π FSM-—Å—Ü–µ–Ω–∞—Ä–∏–π. –ü–æ—Ç–æ–∫ —Å—Ç—Ä–æ–∏—Ç—Å—è –≤–æ–∫—Ä—É–≥ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞: —Å–Ω–∞—á–∞–ª–∞ –≤—Å–µ –ø–æ–º–µ—â–µ–Ω–∏—è, –∑–∞—Ç–µ–º –≤–æ–ø—Ä–æ—Å—ã (—Ñ–æ—Ä–º–∞—Ç –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è, —à–ª–∞–≥–±–∞—É–º—ã), –≤ –∫–æ–Ω—Ü–µ ‚Äî —Ç–µ–ª–µ—Ñ–æ–Ω. –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –Ω–∞ Backend –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –æ—Ç–≤–µ—Ç–∞. telegram_id –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑ `message.from.id`. Email –Ω–µ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è. –¢–µ–ª–µ—Ñ–æ–Ω –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω (telegram_id –¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏).

### 2. –û–ø–∏—Å–∞–Ω–∏–µ –∏ —Ü–µ–ª—å
–õ–∏–Ω–µ–π–Ω—ã–π –æ–ø—Ä–æ—Å –≤ Telegram –¥–ª—è —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞: –ø–æ–º–µ—â–µ–Ω–∏—è, –ø–æ–∑–∏—Ü–∏—è –ø–æ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—é, –∫–æ–Ω—Ç–∞–∫—Ç. –û—Ç–ª–∏—á–∏—è –æ—Ç –≤–µ–±-—Ñ–æ—Ä–º—ã: (1) —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –≤—Å–µ –ø–æ–º–µ—â–µ–Ω–∏—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞ –∑–∞ –æ–¥–∏–Ω –ø—Ä–æ—Ö–æ–¥, (2) email –Ω–µ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è, (3) —Ç–µ–ª–µ—Ñ–æ–Ω –æ–ø—Ü–∏–æ–Ω–∞–ª–µ–Ω, (4) –≤–æ–ø—Ä–æ—Å—ã –∑–∞–¥–∞—é—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –Ω–∞ –≤—Å–µ –ø–æ–º–µ—â–µ–Ω–∏—è. –¶–µ–ª—å ‚Äî –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –∫–∞–Ω–∞–ª –ø–æ –ë–¢ [cite: 80, 81, 92, 93].

### 3. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
* **SR-BOT02-001:** –ë–æ—Ç –¥–æ–ª–∂–µ–Ω –≤–µ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ —à–∞–≥–∞–º (—Å–º. —Å—Ç–µ–π—Ç-–º–∞—à–∏–Ω—É): –ø–æ–º–µ—â–µ–Ω–∏—è (–æ–¥–Ω–æ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ, —á–µ—Ä–µ–∑ BOT-01) ‚Üí —Ñ–æ—Ä–º–∞—Ç –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è (–≠–î / –±—É–º–∞–≥–∞ / –Ω–µ –≥–æ–ª–æ—Å—É—é) ‚Üí –ø–æ–∑–∏—Ü–∏—è –ø–æ —à–ª–∞–≥–±–∞—É–º–∞–º ‚Üí —Ç–µ–ª–µ—Ñ–æ–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) ‚Üí —Å–≤–æ–¥–∫–∞.
* **SR-BOT02-002:** –ë–æ—Ç –¥–æ–ª–∂–µ–Ω –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É Share Contact (Telegram ReplyKeyboard) –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (—à–∞–≥ ENTER_PHONE).
* **SR-BOT02-003:** –°–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –ü–î–Ω –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ –≤ CONTACT_MANAGE: ¬´–û—Ç–ø—Ä–∞–≤–ª—è—è –¥–∞–Ω–Ω—ã–µ, –≤—ã —Å–æ–≥–ª–∞—à–∞–µ—Ç–µ—Å—å —Å –ü–æ–ª–∏—Ç–∏–∫–æ–π –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏¬ª + —Å—Å—ã–ª–∫–∞. –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –∞–Ω–∫–µ—Ç—ã = –∞–∫—Ç —Å–æ–≥–ª–∞—Å–∏—è.
* **SR-BOT02-004:** –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ: CONFIRM_PREMISE ‚Üí —Å–æ–∑–¥–∞–Ω–∏–µ/–ø—Ä–∏–≤—è–∑–∫–∞ –∫–æ–Ω—Ç–∞–∫—Ç–∞; VOTE_METHOD ‚Üí vote_format + registered_in_ed; BARRIER_VOTE ‚Üí barrier_vote; ENTER_PHONE ‚Üí phone. –ö–∞–∂–¥—ã–π —à–∞–≥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç POST/PATCH –Ω–∞ Backend —Å `source: "telegram"` –∏ `telegram_user_id`.
* **SR-BOT02-005:** –ü—Ä–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –ø–æ–º–µ—â–µ–Ω–∏—è —Ç–∏–ø–∞ ¬´–∫–≤–∞—Ä—Ç–∏—Ä–∞/–∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ã¬ª –±–æ—Ç –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å –∫–ª–∞–¥–æ–≤–∫—É –∏/–∏–ª–∏ –º–∞—à–∏–Ω–æ–º–µ—Å—Ç–æ (OFFER_PARKING_STORAGE). –ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥—Ä—É–≥–∏—Ö —Ç–∏–ø–æ–≤ ‚Äî –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å –µ—â—ë (OFFER_MORE).
* **SR-BOT02-006:** –ö–∞–ø—á–∞ –¥–ª—è –±–æ—Ç–∞ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è. Rate limit: 10 submit/—á–∞—Å –ø–æ telegram_id (–∞–Ω–∞–ª–æ–≥ BE-04); –ø–ª—é—Å –ª–∏–º–∏—Ç 10 –Ω–µ–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –Ω–∞ –ø–æ–º–µ—â–µ–Ω–∏–µ (SR-CORE02-004).
* **SR-BOT02-007:** –ê–Ω–æ–Ω–∏–º–Ω–æ–µ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ –≤ –±–æ—Ç–µ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è; telegram_id –≤—Å–µ–≥–¥–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è.
* **SR-BOT02-008:** –¢–µ–ª–µ—Ñ–æ–Ω –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω. telegram_id –¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —à–∞–≥ —Å —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º.
* **SR-BOT02-009:** –í–æ–ø—Ä–æ—Å—ã (VOTE_METHOD, BARRIER_VOTE) –∏ —Ç–µ–ª–µ—Ñ–æ–Ω (CONTACT_MANAGE) –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Ç–µ–∫—É—â–∏–π —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–±—Ä–∞—â–∞–ª—Å—è —Ä–∞–Ω–µ–µ.
* **SR-BOT02-010:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —É–±—Ä–∞—Ç—å –æ—à–∏–±–æ—á–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–Ω–æ–µ –ø–æ–º–µ—â–µ–Ω–∏–µ (REMOVE_PREMISE ‚Üí CONFIRM_REMOVE_PREMISE). Backend: `status='inactive'`, –æ–±–Ω—É–ª–µ–Ω–∏–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª–µ–π —ç—Ç–æ–≥–æ –∫–æ–Ω—Ç–∞–∫—Ç–∞, –∑–∞–ø–∏—Å—å –≤ –∞—É–¥–∏—Ç (`action: premise_removed`). –û—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–º–µ—â–µ–Ω–∏—è –∏ –æ—Ç–≤–µ—Ç—ã –Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—é—Ç—Å—è.

### 4. –°—Ü–µ–Ω–∞—Ä–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
**–¢—Ä–∏–≥–≥–µ—Ä:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç `[–Ø —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫]` –∏–ª–∏ `/start`.
**Main Success Scenario:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–º–µ—â–µ–Ω–∏—è (–æ–¥–Ω–æ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ).
2. –û—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –æ —Ñ–æ—Ä–º–∞—Ç–µ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è –∏ —à–ª–∞–≥–±–∞—É–º–∞—Ö.
3. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç/–¥–æ–±–∞–≤–ª—è–µ—Ç/–ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç —Ç–µ–ª–µ—Ñ–æ–Ω.
4. –í–∏–¥–∏—Ç —Å–≤–æ–¥–∫—É –Ω–∞ —ç–∫—Ä–∞–Ω–µ DONE.
–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞.
**Alternative Flows:**
* **AF-1 (–û—Ç–º–µ–Ω–∞ –Ω–∞ —à–∞–≥–µ):** `/cancel` –∏–ª–∏ `[–û—Ç–º–µ–Ω–∞]` ‚Äî —Å–µ—Å—Å–∏—è —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è; —Ä–∞–Ω–µ–µ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –æ—Å—Ç–∞—é—Ç—Å—è –≤ –ë–î.
* **AF-2 (–õ–∏–º–∏—Ç –Ω–∞ –ø–æ–º–µ—â–µ–Ω–∏–µ):** Backend –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 409; –±–æ—Ç —Å–æ–æ–±—â–∞–µ—Ç ¬´–ü–æ —ç—Ç–æ–º—É –ø–æ–º–µ—â–µ–Ω–∏—é —É–∂–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∑–∞–ø–∏—Å–µ–π¬ª.
* **AF-3 (Rate limit):** Backend –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 429; –±–æ—Ç —Å–æ–æ–±—â–∞–µ—Ç ¬´–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –æ—Ç–ø—Ä–∞–≤–æ–∫, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ¬ª.
* **AF-4 (–í–æ–∑–≤—Ä–∞—â–∞—é—â–∏–π—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å):** –ü—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö PREMISES_OVERVIEW –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –ø–æ–º–µ—â–µ–Ω–∏–π; –≤–æ–ø—Ä–æ—Å—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –æ—Ç–≤–µ—Ç—ã.
* **AF-5 (–£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–º–µ—â–µ–Ω–∏—è):** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç `[–£–±—Ä–∞—Ç—å –ø–æ–º–µ—â–µ–Ω–∏–µ]` ‚Üí –≤—ã–±–∏—Ä–∞–µ—Ç –ø–æ–º–µ—â–µ–Ω–∏–µ ‚Üí –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç ‚Üí Backend: `status='inactive'` + –æ–±–Ω—É–ª–µ–Ω–∏–µ –ü–î–Ω –∫–æ–Ω—Ç–∞–∫—Ç–∞ ‚Üí –≤–æ–∑–≤—Ä–∞—Ç –≤ PREMISES_OVERVIEW. –ï—Å–ª–∏ —É–¥–∞–ª–µ–Ω–æ –ø–æ—Å–ª–µ–¥–Ω–µ–µ –ø–æ–º–µ—â–µ–Ω–∏–µ ‚Äî PREMISES_OVERVIEW –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.

### 5. –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö
–¢–∞ –∂–µ –º–æ–¥–µ–ª—å –∫–æ–Ω—Ç–∞–∫—Ç–∞ (FE-04). –ò–∑–º–µ–Ω–µ–Ω–∏—è:
- –ü–æ–ª–µ `source` –≤ contacts: varchar(16), default `'web'`, –¥–æ–ø—É—Å—Ç–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è: `web` | `telegram` | `admin`
- telegram_id —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–ª—è—Ö `telegram_id` (–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π, Fernet) –∏ `telegram_id_idx` (Blind Index, HMAC-SHA256). –û—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—è `telegram_user_id` –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ –Ω–µ—Ç (–ü–î–Ω).
- `barrier_vote` –∏ `vote_format` —Ö—Ä–∞–Ω—è—Ç—Å—è per-contact (per-premise); –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –±–æ—Ç –¥—É–±–ª–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç—ã –≤–æ –≤—Å–µ –∑–∞–ø–∏—Å–∏ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –ø–æ –ø–æ–º–µ—â–µ–Ω–∏—è–º —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞
- –¢–∞–±–ª–∏—Ü–∞ `premise_type_aliases` ‚Äî —Å–ª–æ–≤–∞—Ä—å —Å–∏–Ω–æ–Ω–∏–º–æ–≤ —Ç–∏–ø–æ–≤ –ø–æ–º–µ—â–µ–Ω–∏–π (—Å–º. BOT-01)
- –¢–∞–±–ª–∏—Ü–∞ `bot_unrecognized` ‚Äî –ª–æ–≥ –Ω–µ—Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã—Ö –≤–≤–æ–¥–æ–≤ (—Å–º. BOT-01)
- –ú–∏–≥—Ä–∞—Ü–∏—è Alembic

### 6. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∏ API

–í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã: –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è `X-Bot-Token`.

**–ü—Ä–∏–≤—è–∑–∫–∞ –ø–æ–º–µ—â–µ–Ω–∏—è:**
* **Method:** `POST /api/bot/premises`
* **Request:**
```json
{
  "telegram_user_id": "123456789",
  "premise_id": "77:06:..."
}
```
Backend —à–∏—Ñ—Ä—É–µ—Ç telegram_user_id (Fernet ‚Üí `telegram_id`), –≤—ã—á–∏—Å–ª—è–µ—Ç Blind Index (`telegram_id_idx`), —Å–æ–∑–¥–∞—ë—Ç –∫–æ–Ω—Ç–∞–∫—Ç —Å `source='telegram'`.
* **Response (—É—Å–ø–µ—Ö):** 201 Created.
* **Response (–ª–∏–º–∏—Ç):** 409 `{"detail": "Premise limit exceeded"}`.

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ (–ø–æ –≤—Å–µ–º –ø–æ–º–µ—â–µ–Ω–∏—è–º —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞):**
* **Method:** `PATCH /api/bot/me/answers`
* **Request:**
```json
{
  "telegram_user_id": "123456789",
  "vote_format": "electronic",
  "registered_in_ed": true,
  "barrier_vote": "for",
  "phone": "+79991234567"
}
```
–ü–µ—Ä–µ–¥–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–µ –ø–æ–ª—è. Backend –Ω–∞—Ö–æ–¥–∏—Ç –≤—Å–µ –∫–æ–Ω—Ç–∞–∫—Ç—ã –ø–æ `telegram_id_idx` (Blind Index) –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç. –ë–æ—Ç –ø—Ä–∏—Å—ã–ª–∞–µ—Ç `registered_in_ed` –∫–∞–∫ `"true"`/`"false"`; –≤ –ë–î –∏ –≤ –æ—Ç–≤–µ—Ç–∞—Ö API —Ö—Ä–∞–Ω–∏—Ç—Å—è/–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è `"yes"`/`"no"` –¥–ª—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏—è —Å –≤–µ–±-—Ñ–æ—Ä–º–æ–π, –∏–º–ø–æ—Ä—Ç–æ–º –∏ —à–∞—Ö–º–∞—Ç–∫–æ–π (–ø–æ–¥—Å—á—ë—Ç ¬´–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ –≠–î¬ª).
* **Response:** 200 OK.
* **Response (rate limit):** 429 `{"detail": "Rate limit exceeded", "retry_after": 3600}`.

**–£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–º–µ—â–µ–Ω–∏—è:**
* **Method:** `DELETE /api/bot/me/premises/{premise_id}` (premise_id –≤ path ‚Äî –∫–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π –Ω–æ–º–µ—Ä; –≤ URL –∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å, —Ç.–∫. —Å–æ–¥–µ—Ä–∂–∏—Ç `:`).
* **Request (body ‚Äî PremiseBody, –æ–±–∞ –ø–æ–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã):**
```json
{
  "telegram_user_id": "123456789",
  "premise_id": "77:02:0015008:5364"
}
```
* **Response (—É—Å–ø–µ—Ö):** 200 OK `{"detail": "Premise removed"}`.
* **Response (–Ω–µ –Ω–∞–π–¥–µ–Ω–æ / —á—É–∂–æ–π):** 404.
* Backend: –Ω–∞–π—Ç–∏ –∫–æ–Ω—Ç–∞–∫—Ç –ø–æ `premise_id + telegram_id_idx` ‚Üí `status='inactive'`, –æ–±–Ω—É–ª–µ–Ω–∏–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª–µ–π –∏ Blind Index ‚Üí –∑–∞–ø–∏—Å—å –≤ –∞—É–¥–∏—Ç (`action: premise_removed`).

**–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
* **Method:** `GET /api/bot/me/data?telegram_user_id={id}`
Backend –Ω–∞—Ö–æ–¥–∏—Ç –∫–æ–Ω—Ç–∞–∫—Ç—ã –ø–æ `telegram_id_idx` (Blind Index –æ—Ç –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–≥–æ telegram_user_id).
* **Response:** –í –ë–î –∏ –≤ –æ—Ç–≤–µ—Ç–µ `registered_in_ed` ‚Äî —Å—Ç—Ä–æ–∫–∞ `"yes"` –∏–ª–∏ `"no"` (–±–æ—Ç –ø—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ —É—á–∏—Ç—ã–≤–∞–µ—Ç –∏ `"yes"`, –∏ `"true"`).
```json
{
  "premises": [
    { "premise_id": "77:06:...", "display": "–ö–≤–∞—Ä—Ç–∏—Ä–∞ 45", "short_display": "–ö–≤. 45" },
    { "premise_id": "77:06:...", "display": "–ú–∞—à–∏–Ω–æ-–º–µ—Å—Ç–æ 12", "short_display": "–ú–ú 12" }
  ],
  "vote_format": "electronic",
  "registered_in_ed": "yes",
  "barrier_vote": "for",
  "phone": "+79991234567"
}
```

### 7. –ù–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
* **Security:** `X-Bot-Token` (shared secret, –Ω–µ Telegram-—Ç–æ–∫–µ–Ω) –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –±–æ—Ç‚Üí–±—ç–∫–µ–Ω–¥. Rate limit 10 submit/—á–∞—Å –ø–æ `telegram_id_idx` (in-memory, –∞–Ω–∞–ª–æ–≥ BE-04 –ø–æ IP).
* **Compliance:** –°–æ–≥–ª–∞—Å–∏–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ –≤ CONTACT_MANAGE (—Å—Å—ã–ª–∫–∞ –Ω–∞ –ü–æ–ª–∏—Ç–∏–∫—É + —Ç–µ–∫—Å—Ç). consent_version —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–æ–Ω—Ç–∞–∫—Ç–∞.

---

## BOT-03 ‚Äî –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ ¬´–ü—Ä–∞–≤–æ –Ω–∞ –∑–∞–±–≤–µ–Ω–∏–µ¬ª

### 1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑ (CoT)
–†–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –≤ —Ç–æ–º –∂–µ –±–æ—Ç–µ: –∫–æ–º–∞–Ω–¥–∞ `/mydata` ‚Üí —Å–æ—Å—Ç–æ—è–Ω–∏–µ MY_DATA_VIEW. Backend –Ω–∞—Ö–æ–¥–∏—Ç –∑–∞–ø–∏—Å–∏ –ø–æ Blind Index –æ—Ç telegram_user_id –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–≤–æ–¥–∫—É (–ø–æ–º–µ—â–µ–Ω–∏—è, –æ—Ç–≤–µ—Ç—ã, —Ç–µ–ª–µ—Ñ–æ–Ω). –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫ (PREMISES_OVERVIEW) —Å –ø—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ–º. –ü–æ–ª–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ (¬´–ü—Ä–∞–≤–æ –Ω–∞ –∑–∞–±–≤–µ–Ω–∏–µ¬ª, CONFIRM_FORGET) ‚Äî soft delete –≤—Å–µ—Ö –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤: –æ–±–Ω—É–ª–µ–Ω–∏–µ –ü–î–Ω –≤–∫–ª—é—á–∞—è TG ID, —Å–º–µ–Ω–∞ —Å—Ç–∞—Ç—É—Å–∞, –∑–∞–ø–∏—Å—å –≤ –∞—É–¥–∏—Ç. –£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ ‚Äî CONFIRM_DELETE (–∏–∑ CONTACT_MANAGE).

### 2. –û–ø–∏—Å–∞–Ω–∏–µ –∏ —Ü–µ–ª—å
–¢—Ä–∏ —É—Ä–æ–≤–Ω—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏: (1) –ø—Ä–æ—Å–º–æ—Ç—Ä –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫, (2) —É–¥–∞–ª–µ–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø–æ–º–µ—â–µ–Ω–∏—è (`status='inactive'`, –æ–±–Ω—É–ª–µ–Ω–∏–µ –ü–î–Ω) –∏–ª–∏ —Ç–æ–ª—å–∫–æ —Ç–µ–ª–µ—Ñ–æ–Ω–∞, (3) –ø–æ–ª–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ (–∑–∞–±–≤–µ–Ω–∏–µ ‚Äî `status='inactive'` –¥–ª—è –≤—Å–µ—Ö –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤, –æ–±–Ω—É–ª–µ–Ω–∏–µ –ü–î–Ω –∏ Blind Index). –†–∞–∑–ª–∏—á–∏–µ ‚Äî –≤ `action` –∞—É–¥–∏—Ç-–ª–æ–≥–∞. –¶–µ–ª—å ‚Äî —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ë–¢ [cite: 92, 93] –∏ 152-–§–ó.

### 3. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
* **SR-BOT03-001:** –ë–æ—Ç –¥–æ–ª–∂–µ–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –∫–æ–º–∞–Ω–¥—É `/mydata` –∏ –∫–Ω–æ–ø–∫—É `[–ú–æ–∏ –¥–∞–Ω–Ω—ã–µ]` (IDLE) –¥–ª—è –≤—Ö–æ–¥–∞ –≤ MY_DATA_VIEW.
* **SR-BOT03-002:** –í MY_DATA_VIEW –±–æ—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç Backend (`GET /api/bot/me/data`) –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: —Å–ø–∏—Å–æ–∫ –ø–æ–º–µ—â–µ–Ω–∏–π, –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã, —Ç–µ–ª–µ—Ñ–æ–Ω.
* **SR-BOT03-003:** –ò–∑ MY_DATA_VIEW –¥–æ—Å—Ç—É–ø–Ω—ã –¥–µ–π—Å—Ç–≤–∏—è: `[–ò–∑–º–µ–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ]` ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –≤ PREMISES_OVERVIEW (–æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫ —Å –ø—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ–º); `[–£–¥–∞–ª–∏—Ç—å –≤—Å–µ –º–æ–∏ –¥–∞–Ω–Ω—ã–µ]` ‚Üí CONFIRM_FORGET.
* **SR-BOT03-004:** –ü—Ä–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –ø–æ–ª–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è (CONFIRM_FORGET) Backend: `status='inactive'` –¥–ª—è –≤—Å–µ—Ö –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –¥–∞–Ω–Ω–æ–≥–æ telegram_user_id, –æ–±–Ω—É–ª–µ–Ω–∏–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª–µ–π (phone, telegram_id, how_to_address) –∏ Blind Index (`telegram_id_idx`, `phone_idx`). –í –∞—É–¥–∏—Ç-–ª–æ–≥: `action: forget`, entity_id = blind_index (–¥–æ –æ–±–Ω—É–ª–µ–Ω–∏—è), timestamp. –ü–æ—Å–ª–µ –æ–±–Ω—É–ª–µ–Ω–∏—è Blind Index –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å –≤–µ—Ä–Ω—ë—Ç –ø—É—Å—Ç–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
* **SR-BOT03-005:** –£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (CONFIRM_DELETE –∏–∑ CONTACT_MANAGE) ‚Äî PATCH —Å phone=null. –û—Å—Ç–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–ø–æ–º–µ—â–µ–Ω–∏—è, –æ—Ç–≤–µ—Ç—ã) —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è.
* **SR-BOT03-006:** –£–¥–∞–ª–µ–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø–æ–º–µ—â–µ–Ω–∏—è (REMOVE_PREMISE ‚Üí CONFIRM_REMOVE_PREMISE) ‚Äî `DELETE /api/bot/me/premises/{premise_id}`. Backend: `status='inactive'`, –æ–±–Ω—É–ª–µ–Ω–∏–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª–µ–π –∏ Blind Index –∫–æ–Ω—Ç–∞–∫—Ç–∞. –ê—É–¥–∏—Ç: `action: premise_removed`. –û—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–º–µ—â–µ–Ω–∏—è –∏ –æ—Ç–≤–µ—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è.
* **SR-BOT03-007:** –ë–æ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è.

### 4. –°—Ü–µ–Ω–∞—Ä–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
**–¢—Ä–∏–≥–≥–µ—Ä:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç `[–ú–æ–∏ –¥–∞–Ω–Ω—ã–µ]` –∏–ª–∏ `/mydata`.
**Main Success Scenario (–ø—Ä–æ—Å–º–æ—Ç—Ä/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ):**
1. –ë–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–≤–æ–¥–∫—É –¥–∞–Ω–Ω—ã—Ö (MY_DATA_VIEW).
2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç `[–ò–∑–º–µ–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ]` ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫ (PREMISES_OVERVIEW).
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–±–Ω–æ–≤–ª—è–µ—Ç –æ—Ç–≤–µ—Ç—ã; –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ.
**Alternative Flows:**
* **AF-1 (–ù–µ—Ç –∑–∞–ø–∏—Å–µ–π):** MY_DATA_VIEW: ¬´–£ –Ω–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –≤–∞—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö¬ª + `[–ó–∞–ø–æ–ª–Ω–∏—Ç—å –∞–Ω–∫–µ—Ç—É]`.
* **AF-2 (–ü–æ–ª–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ):** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç `[–£–¥–∞–ª–∏—Ç—å –≤—Å–µ –º–æ–∏ –¥–∞–Ω–Ω—ã–µ]` ‚Üí CONFIRM_FORGET ‚Üí –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ ‚Üí soft delete ‚Üí ¬´–í—Å–µ –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ —É–¥–∞–ª–µ–Ω—ã¬ª ‚Üí IDLE.
* **AF-3 (–£–¥–∞–ª–µ–Ω–∏–µ —Ç–µ–ª–µ—Ñ–æ–Ω–∞):** –í CONTACT_MANAGE –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç `[–£–¥–∞–ª–∏—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω]` ‚Üí CONFIRM_DELETE ‚Üí –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ ‚Üí phone=null ‚Üí CONTACT_MANAGE.
* **AF-4 (–£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–º–µ—â–µ–Ω–∏—è):** –í PREMISES_OVERVIEW/OFFER_PARKING_STORAGE/OFFER_MORE –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç `[–£–±—Ä–∞—Ç—å –ø–æ–º–µ—â–µ–Ω–∏–µ]` ‚Üí REMOVE_PREMISE ‚Üí –≤—ã–±–æ—Ä ‚Üí CONFIRM_REMOVE_PREMISE ‚Üí `status='inactive'` + –æ–±–Ω—É–ª–µ–Ω–∏–µ –ü–î–Ω ‚Üí PREMISES_OVERVIEW.

### 5. –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö
–ü–æ–ª–µ `deleted_at` –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è. –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏/–∑–∞–±–≤–µ–Ω–∏–∏: `status='inactive'`, –æ–±–Ω—É–ª–µ–Ω–∏–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª–µ–π –∏ Blind Index. –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ñ–∏–ª—å—Ç—Ä `WHERE status IN ('pending','validated')` –∏—Å–∫–ª—é—á–∞–µ—Ç –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–ø–∏—Å–∏. –†–∞–∑–ª–∏—á–∏–µ –º–µ–∂–¥—É —É–¥–∞–ª–µ–Ω–∏–µ–º –ø–æ–º–µ—â–µ–Ω–∏—è –∏ –∑–∞–±–≤–µ–Ω–∏–µ–º ‚Äî –≤ `action` –∞—É–¥–∏—Ç-–ª–æ–≥–∞ (`premise_removed` / `forget`).

### 6. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∏ API

–í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã: –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è `X-Bot-Token`.

**–ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö:**
* **Method:** `GET /api/bot/me/data?telegram_user_id={id}` (–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏–∑ BOT-02).

**–ü–æ–ª–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ (–∑–∞–±–≤–µ–Ω–∏–µ):**
* **Method:** `DELETE /api/bot/me/forget`
* **Request:**
```json
{
  "telegram_user_id": "123456789"
}
```
* **Response:** 200 OK `{"detail": "All data deleted"}`.
* Backend: –≤—Å–µ –∫–æ–Ω—Ç–∞–∫—Ç—ã –ø–æ `telegram_id_idx` ‚Üí `status='inactive'`, –æ–±–Ω—É–ª–µ–Ω–∏–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª–µ–π + Blind Index. –ê—É–¥–∏—Ç: `action: forget`.

**–£–¥–∞–ª–µ–Ω–∏–µ —Ç–µ–ª–µ—Ñ–æ–Ω–∞:**
* **Method:** `PATCH /api/bot/me/answers` —Å `"phone": null` (–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏–∑ BOT-02).

**–£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–º–µ—â–µ–Ω–∏—è:**
* **Method:** `DELETE /api/bot/me/premises/{premise_id}` (–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏–∑ BOT-02). `status='inactive'`, –æ–±–Ω—É–ª–µ–Ω–∏–µ –ü–î–Ω.

### 7. –ù–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
* **Security:** Backend –≤—ã—á–∏—Å–ª—è–µ—Ç `telegram_id_idx` (Blind Index) –æ—Ç –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–≥–æ `telegram_user_id` –∏ –∏—â–µ—Ç –∫–æ–Ω—Ç–∞–∫—Ç—ã –ø–æ –Ω–µ–º—É. –ß—É–∂–∏–µ –∑–∞–ø–∏—Å–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã. –ü–æ—Å–ª–µ –∑–∞–±–≤–µ–Ω–∏—è Blind Index –æ–±–Ω—É–ª—ë–Ω ‚Äî –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å –≤–µ—Ä–Ω—ë—Ç –ø—É—Å—Ç–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
* **Audit:** –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ BE-03. –†–∞–∑–ª–∏—á–∏–µ: `action: premise_removed` (—É–¥–∞–ª–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –ø–æ–º–µ—â–µ–Ω–∏—è), `action: forget` (–ø–æ–ª–Ω–æ–µ –∑–∞–±–≤–µ–Ω–∏–µ), `action: phone_deleted` (—É–¥–∞–ª–µ–Ω–∏–µ —Ç–µ–ª–µ—Ñ–æ–Ω–∞). –ó–∞–ø–∏—Å–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç —Ç–æ–ª—å–∫–æ —Ñ–∞–∫—Ç –¥–µ–π—Å—Ç–≤–∏—è –∏ timestamp, –±–µ–∑ –ü–î–Ω.

---

## BOT-04 ‚Äî –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è: –µ–¥–∏–Ω–∞—è –ë–î, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

### 1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑ (CoT)
–ë–æ—Ç –ø–∏—à–µ—Ç —á–µ—Ä–µ–∑ Backend API ‚Üí –¥–∞–Ω–Ω—ã–µ —Å—Ä–∞–∑—É –≤ –æ–±—â–µ–π –ë–î PostgreSQL ‚Üí –≤–µ–±-–∫–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–π –∑–∞–≥—Ä—É–∑–∫–µ/–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π polling / WebSocket / SSE –Ω–µ —Ç—Ä–µ–±—É—é—Ç—Å—è.

### 2. –û–ø–∏—Å–∞–Ω–∏–µ –∏ —Ü–µ–ª—å
–î–∞–Ω–Ω—ã–µ –∏–∑ –±–æ—Ç–∞ –≤–∏–¥–Ω—ã –Ω–∞ —à–∞—Ö–º–∞—Ç–∫–µ, –≤ –∫–≤–æ—Ä—É–º–µ –∏ –≤ –∞–¥–º–∏–Ω–∫–µ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã. –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ real-time —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

### 3. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
* **SR-BOT04-001:** –î–∞–Ω–Ω—ã–µ, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ/–æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ/—É–¥–∞–ª—ë–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ –±–æ—Ç–∞ (BOT-02, BOT-03), –¥–æ–ª–∂–Ω—ã —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –≤ —Ç–æ–π –∂–µ –ë–î, —á—Ç–æ –∏ –≤–µ–±-–∞–Ω–∫–µ—Ç—ã.
* **SR-BOT04-002:** –í–µ–±-–∫–ª–∏–µ–Ω—Ç –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏–ª–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ –¥–æ–ª–∂–µ–Ω –ø–æ–ª—É—á–∞—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –≤–∫–ª—é—á–∞—è –∑–∞–ø–∏—Å–∏ –∏–∑ –±–æ—Ç–∞.
* **SR-BOT04-003:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (polling, SSE, WebSocket) –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–≤–µ–∂–∏—Ö –¥–∞–Ω–Ω—ã—Ö.

### 4. –°—Ü–µ–Ω–∞—Ä–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
**–¢—Ä–∏–≥–≥–µ—Ä:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–Ω—ë—Å –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ –±–æ—Ç–∞; –∞–¥–º–∏–Ω –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ.
**Main Success Scenario:**
1. –î–∞–Ω–Ω—ã–µ –∏–∑ –±–æ—Ç–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ –ë–î (—á–µ—Ä–µ–∑ Backend API).
2. –ê–¥–º–∏–Ω –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É ‚Üí –≤–∏–¥–∏—Ç –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ —Ü–≤–µ—Ç–∞ –Ω–∞ —à–∞—Ö–º–∞—Ç–∫–µ, –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –∫–≤–æ—Ä—É–º.

### 5. –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö
–ù–µ –º–µ–Ω—è–µ—Ç—Å—è; –µ–¥–∏–Ω–∞—è –ë–î.

### 6. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∏ API
–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ API: —à–∞—Ö–º–∞—Ç–∫–∞ `GET /api/premises/chessboard`, –∫–≤–æ—Ä—É–º `GET /api/quorum`. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

### 7. –ù–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
–ù–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç—Å—è –µ–¥–∏–Ω–æ–π –ë–î.

---

## –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –§–∞–∑–∞ 1: Backend ‚Äî –º–∏–≥—Ä–∞—Ü–∏—è + —Ç–∞–±–ª–∏—Ü—ã

**–ú–∏–≥—Ä–∞—Ü–∏—è Alembic 008:**
- `contacts.source` varchar(16) DEFAULT 'web' (web | telegram | admin)
- –¢–∞–±–ª–∏—Ü–∞ `premise_type_aliases` (premises_type, short_name, alias) + seed-–¥–∞–Ω–Ω—ã–µ
- –¢–∞–±–ª–∏—Ü–∞ `bot_unrecognized` (input_text, telegram_id_idx, created_at)

–ù–æ–≤—ã—Ö –∫–æ–ª–æ–Ω–æ–∫ –¥–ª—è telegram_user_id –Ω–µ—Ç (–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ `telegram_id` + `telegram_id_idx`). –ü–æ–ª–µ `deleted_at` –Ω–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è. Constraint –Ω–∞ status –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è (`inactive` —É–∂–µ –¥–æ–ø—É—Å—Ç–∏–º).

### –§–∞–∑–∞ 2: Backend ‚Äî auth + resolver + router

**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –±–æ—Ç–∞:** `X-Bot-Token` (shared secret `BOT_API_TOKEN`, –Ω–µ Telegram-—Ç–æ–∫–µ–Ω). –û–¥–∏–Ω –±–æ—Ç –¥–ª—è Login Widget –∏ –æ–ø—Ä–æ—Å–∞ (—Ç–æ—Ç –∂–µ `TELEGRAM_BOT_TOKEN`).

**BOT-01 Resolver:** –∑–∞–≥—Ä—É–∑–∫–∞ `premise_type_aliases` –∏–∑ –ë–î, –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –≤–≤–æ–¥–∞, –ø–∞—Ä—Å–∏–Ω–≥ —Ç–∏–ø+–Ω–æ–º–µ—Ä –ø–æ —Å–∏–Ω–æ–Ω–∏–º–∞–º, fuzzy match (`rapidfuzz`), –ª–æ–≥ –Ω–µ—Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã—Ö –≤ `bot_unrecognized`.

**6 —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ `/api/bot/*`:** resolve-premise, premises (POST), premises/{id} (DELETE), me/answers (PATCH), me/data (GET), me/forget (DELETE). –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É—é—Ç `submit_service`, `crypto`, `validators`, `room_normalizer`.

**Rate limit –ø–æ `telegram_id_idx`** (in-memory, –∞–Ω–∞–ª–æ–≥ IP-based –≤ `rate_limit.py`).

**3 —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ —Å—É–ø–µ—Ä–∞–¥–º–∏–Ω–∞:** CRUD `premise_type_aliases` + —Å–ø–∏—Å–æ–∫ `bot_unrecognized`.

### –§–∞–∑–∞ 3: –ë–æ—Ç-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (aiogram 3.x, 17 —Å–æ—Å—Ç–æ—è–Ω–∏–π)

- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä `bot` (Dockerfile, aiogram 3.x, aiohttp, aiosqlite)
- FSM storage: SQLite (`/data/sessions.db`, Docker volume `bot_data`, TTL 1 —á–∞—Å)
- HTTP-–∫–ª–∏–µ–Ω—Ç –∫ Backend (`X-Bot-Token`)
- 17 —Å–æ—Å—Ç–æ—è–Ω–∏–π FSM (5 —Ñ–∞–π–ª–æ–≤ —Ö–µ–Ω–¥–ª–µ—Ä–æ–≤)
- –ö–æ—Ä–æ—Ç–∫–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∏–∑ `premise_type_aliases.short_name`

### –§–∞–∑–∞ 4: –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

- docker-compose: —Å–µ—Ä–≤–∏—Å `bot`, volume `bot_data`
- `.env` / `.env.example`: `BOT_API_TOKEN`, `WEBHOOK_SECRET`
- Nginx: location `/api/tg-wh/` ‚Üí bot:8443

### –§–∞–∑–∞ 5: –§—Ä–æ–Ω—Ç–µ–Ω–¥ ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å—É–ø–µ—Ä–∞–¥–º–∏–Ω–∞

- `BotAliases.jsx` ‚Äî CRUD-—Ä–µ–¥–∞–∫—Ç–æ—Ä —Å–ª–æ–≤–∞—Ä—è —Å–∏–Ω–æ–Ω–∏–º–æ–≤ (`premise_type_aliases`)
- `BotUnrecognized.jsx` ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä –Ω–µ—Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã—Ö –≤–≤–æ–¥–æ–≤ (`bot_unrecognized`)
- –ú–∞—Ä—à—Ä—É—Ç—ã –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è –≤ `App.jsx` (—Ç–æ–ª—å–∫–æ `super_administrator`)

### –§–∞–∑–∞ 6: –î–µ–ø–ª–æ–π –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- –°–±–æ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤, –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è webhook –≤ Telegram API
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx
- `docs/deploy/05-bot-setup.md` ‚Äî –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `README.md`

### –§–∞–∑–∞ 7: BOT-04 (—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è)

–ë–µ—Å–ø–ª–∞—Ç–Ω–∞ –ø—Ä–∏ –ø–æ–¥—Ö–æ–¥–µ ¬´–±–æ—Ç ‚Üí Backend API ‚Üí –ë–î¬ª. –î–∞–Ω–Ω—ã–µ –≤–∏–¥–Ω—ã –Ω–∞ —à–∞—Ö–º–∞—Ç–∫–µ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ. –ò–∑–º–µ–Ω–µ–Ω–∏–π –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

### –û—Ü–µ–Ω–∫–∞ —Ç—Ä—É–¥–æ—ë–º–∫–æ—Å—Ç–∏

| –§–∞–∑–∞ | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ü—Ä–∏–º–µ—Ä–Ω–æ |
|------|-----------|----------|
| 1 | –ú–∏–≥—Ä–∞—Ü–∏—è: source + aliases + unrecognized + seed | 0.5 –¥–Ω—è |
| 2 | Backend: auth + resolver + 6 bot-—ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ + 3 superadmin-—ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ + rate limit | 3‚Äì4 –¥–Ω—è |
| 3 | Bot: –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä + FSM (17 —Å–æ—Å—Ç–æ—è–Ω–∏–π) + SQLite storage + webhook | 4‚Äì6 –¥–Ω–µ–π |
| 4 | Infra: docker-compose + nginx + .env | 0.5 –¥–Ω—è |
| 5 | Frontend: 2 —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å—É–ø–µ—Ä–∞–¥–º–∏–Ω–∞ + –º–∞—Ä—à—Ä—É—Ç—ã | 1‚Äì2 –¥–Ω—è |
| 6 | –î–µ–ø–ª–æ–π + –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | 1 –¥–µ–Ω—å |
| | **–ò—Ç–æ–≥–æ** | **~11‚Äì15 –¥–Ω–µ–π** |
