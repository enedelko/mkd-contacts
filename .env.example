# Копировать в .env и задать значения. Не коммитить .env.
# Развёртывание в РФ: использовать только на серверах внутри РФ.
#
# В PRODUCTION запуск без преднастроенного .env с уникальными паролями ЗАПРЕЩЁН.
# Дефолты в docker-compose (mkd_secret и т.п.) — только для локальной разработки.

POSTGRES_USER=mkd
POSTGRES_PASSWORD=задать_надёжный_пароль
POSTGRES_DB=mkd_contacts

# ADM-01: Telegram Login Widget (бот от @BotFather, /setdomain для домена)
# Токен бота — только для backend (проверка подписи, webhook). НЕ передавать на фронт.
TELEGRAM_BOT_TOKEN=123456:ABC...
# Имя бота для кнопки «Войти через Telegram» на фронте (без @): виджету нужен username, не токен.
# Локально: добавить в .env (или в frontend/.env) и перезапустить vite. В Docker: передать при сборке (см. docs/deploy/01-bootstrap.md).
VITE_TELEGRAM_BOT_USERNAME=MyMkdBot
# JWT для сессий админов
JWT_SECRET=длинная_случайная_строка
# Время жизни токена (секунды). Для админки МКД лучше 8–12 ч (28800–43200), чтобы при потере телефона сессия закрылась сама. По умолчанию 10 ч.
JWT_ACCESS_EXPIRE_SECONDS=36000

# BE-02: мастер-ключ НЕ здесь — только файл (Docker Secrets или bind mount).
# Путь к файлу ключа (если задан — проверяется при старте):
# MASTER_KEY_PATH=/run/secrets/master_key
# Pepper для Blind Index (phone_idx, email_idx, telegram_id_idx)
BLIND_INDEX_PEPPER=случайная_строка_pepper

# FE-04: Turnstile (капча). Если не задан — капча не проверяется.
# TURNSTILE_SECRET_KEY=...
# Лимит отправок с одного IP в час (по умолчанию 10)
# SUBMIT_RATE_LIMIT_PER_HOUR=10
